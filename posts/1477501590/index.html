<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Hexo Butterfly 个人美化记录 | 雨梦清欢</title><meta name="author" content="R҉anm⌬"><meta name="copyright" content="R҉anm⌬"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="持续更新中。基于 Butterfly 主题，其他主题不保证成功。"><meta property="og:type" content="article"><meta property="og:title" content="Hexo Butterfly 个人美化记录"><meta property="og:url" content="https://blog.sakurink.eu.org/posts/1477501590/index.html"><meta property="og:site_name" content="雨梦清欢"><meta property="og:description" content="持续更新中。基于 Butterfly 主题，其他主题不保证成功。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdncf-assets.sakurink.eu.org/blogassets/img/randimg/3.jpg"><meta property="article:published_time" content="2023-09-02T03:00:24.000Z"><meta property="article:modified_time" content="2024-05-02T07:40:15.000Z"><meta property="article:author" content="R҉anm⌬"><meta property="article:tag" content="web"><meta property="article:tag" content="Hexo"><meta property="article:tag" content="代码"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdncf-assets.sakurink.eu.org/blogassets/img/randimg/3.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Hexo Butterfly 个人美化记录",
  "url": "https://blog.sakurink.eu.org/posts/1477501590/",
  "image": "//cdncf-assets.sakurink.eu.org/blogassets/img/randimg/3.jpg",
  "datePublished": "2023-09-02T03:00:24.000Z",
  "dateModified": "2024-05-02T07:40:15.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "R҉anm⌬",
      "url": "https://blog.sakurink.eu.org/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://blog.sakurink.eu.org/posts/1477501590/index.html"><link rel="preconnect" href="https://npm.elemecdn.com"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/@fancyapps/ui@latest/dist/fancybox/fancybox.css" media="print" onload='this.media="all"'><script>(()=>{const e={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:e,getScript:(e,t={})=>new Promise(((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach((([e,t])=>n.setAttribute(e,t))),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)})),getCSS:(e,t)=>new Promise(((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)})),addGlobalFn:(e,t,o=!1,a=window)=>{const n=a.globalFn||{};n[e]=n[e]||{},n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n}};const t=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},o=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};btf.activateDarkMode=t,btf.activateLightMode=o;const a=e.get("theme");"dark"===a?t():"light"===a&&o();const n=e.get("aside-status");void 0!==n&&document.documentElement.classList.toggle("hide-aside","hide"===n);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:1,unescape:!1,languages:{hits_empty:"未找到符合您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200,highlightFullpage:!1,highlightMacStyle:!0},copy:{success:"复制成功",error:"复制失败",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"已切换为繁体中文",cht_to_chs:"已切换为简体中文",day_to_night:"已切换为深色模式",night_to_day:"已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"top-center"},infinitegrid:{js:"https://npm.elemecdn.com/@egjs/infinitegrid@latest/dist/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyloadPlugin:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Hexo Butterfly 个人美化记录",isHighlightShrink:!1,isToc:!0,pageType:"post"}</script><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="referrer" content="no-referrer-when-downgrade"><noscript><strong>本站需要启用JavaScript才能运行</strong></noscript><link rel="stylesheet" href="/css/sakurink.css"><link rel="stylesheet" href="/css/consolex.css"><link rel="stylesheet" href="https://npm.elemecdn.com/lxgw-wenkai-screen-webfont/style.css" media="only x" onload='this.onload=null,this.media="all"'><link rel="stylesheet" href="https://cdncf-assets.sakurink.eu.org/libs/fonts/JiangChengYuanTi-400W/result.css" media="only x" onload='this.onload=null,this.media="all"'><link rel="stylesheet" href="https://cdncf-assets.sakurink.eu.org/libs/fonts/SourceHanSansCN-Normal/result.css" media="only x" onload='this.onload=null,this.media="all"'><link rel="stylesheet" href="https://cdncf-assets.sakurink.eu.org/libs/fonts/SourceHanSansCN-Medium/result.css" media="only x" onload='this.onload=null,this.media="all"'><link rel="stylesheet" href="https://cdncf-assets.sakurink.eu.org/libs/fonts/SourceHanSerifSC-Medium/result.css" media="only x" onload='this.onload=null,this.media="all"'><link rel="stylesheet" href="/css/lanterns.css"><link rel="stylesheet" href="/css/runtime.css" media="print" onload='this.media="all"'><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="雨梦清欢" type="application/atom+xml"><link rel="alternate" href="/rss2.xml" title="雨梦清欢" type="application/rss+xml"></head><body><script>window.paceOptions={restartOnPushState:!1},btf.addGlobalFn("pjaxSend",(()=>{Pace.restart()}),"pace_restart")</script><link rel="stylesheet" href="/css/pace1.css"><script src="https://npm.elemecdn.com/pace-js@latest/pace.min.js"></script><div id="web_bg" style="background-image:url(//cdncf-assets.sakurink.eu.org/blogassets/img/background_img.jpg)"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">83</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">34</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-book"></i> <span>文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-link"></i> <span>友链</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/friends/"><i class="fa-fw fas fa-user-group"></i> <span>友链</span></a></li><li><a class="site-page child" href="/sub/"><i class="fa-fw fas fa-rss"></i> <span>订阅</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-cubes"></i> <span>通用</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i> <span>Music</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-circle-info"></i> <span>关于</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>【我】</span></a></li><li><a class="site-page child" href="/update/"><i class="fa-fw fas fa-cloud-upload"></i> <span>更新</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(//cdncf-assets.sakurink.eu.org/blogassets/img/randimg/3.jpg)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">雨梦清欢</span></a><a class="nav-page-title" href="/"><span class="site-name">Hexo Butterfly 个人美化记录</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></span></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-book"></i> <span>文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-link"></i> <span>友链</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/friends/"><i class="fa-fw fas fa-user-group"></i> <span>友链</span></a></li><li><a class="site-page child" href="/sub/"><i class="fa-fw fas fa-rss"></i> <span>订阅</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-cubes"></i> <span>通用</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i> <span>Music</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-circle-info"></i> <span>关于</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>【我】</span></a></li><li><a class="site-page child" href="/update/"><i class="fa-fw fas fa-cloud-upload"></i> <span>更新</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Hexo Butterfly 个人美化记录</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-09-02T03:00:24.000Z" title="发表于 2023-09-02 11:00:24">2023-09-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-05-02T07:40:15.000Z" title="更新于 2024-05-02 15:40:15">2024-05-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BB%8F%E9%AA%8C%E8%AE%B0%E5%BD%95/">经验记录</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">8.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>35分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p>建议先配置好 Hexo 并确保其能正常使用。</p><p>插件卸载指令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall &lt;插件名&gt;</span><br></pre></td></tr></table></figure><p>注：</p><ol><li>本文借鉴&#x2F;搬运部分均标注原文链接（除非二次修改程度极高）。有些片段因格式不方便但自己修改时使用到，将只放原文链接；</li><li>本文为我自己修改时借鉴或探索时使用到教程的记录，算是“索引”和笔记，可能不适用于你的网站，参考时请根据自己情况酌情修改；</li><li>如果你打算参考这个记录教程，建议看完相关段落后再操作，不要第一遍看就跟着做。</li></ol><hr><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>如你所见，Hexo 的有些主题可玩性非常高，看着无相似性的几个 Hexo 站点，没准用的是同一套主题……</p><p>本文谨以记录本人折腾博客时用到的教程，以防某日玩脱了找不到回家的路。</p><p>为方便起见，博客根目录记为<code>【Blogroot】</code>，域名记为<code>www.example.com</code>，自定义内容优先放在主题配置文件中，少部分会涉及到 hexo 根目录下配置文件。</p><p>本文提及的目录、配置等均为默认安装的样子，你若有自定义的请结合实际。有些教复杂但官方教程写得详细的，此处一笔带过。</p><p>本文当前对应环境：</p><table><thead><tr><th>名称</th><th>整理教程时最开始环境版本</th><th>本文最近一次更新时环境版本</th></tr></thead><tbody><tr><td>hexo</td><td>^6.3.0</td><td>^7.0.0</td></tr><tr><td>hexo-theme-butterfly</td><td>^4.9.0</td><td>^4.11.0</td></tr><tr><td>node.js</td><td>^18.（？）</td><td>^20.10.1</td></tr></tbody></table><p>行数标注对应我的配置文件，但相应代码应该大差不差。</p><p>yaml 大小写敏感、yaml 以缩进表示层级关系、yaml 中冒号后空一格再写内容……为防止因格式造成的问题，请在使用时自查代码缩进关系。</p><p>实际上，自定义引入文件（如图片、css、js 等），最好在<code>【Blogroot】/source</code>目录下创建文件夹放置，而不应放到<strong>主题文件夹</strong>，以防更新主题时误删。本文中如有说将上述类型文件存到<code>【Blogroot】/theme</code>目录下某处时，请酌情修改自己的实操方案。【至于 pug、stylus 等类型的文件，为保险起见，最好保持原来路径，不作修改。】</p><p>除非强调，否则配置内容时修改的 config 可自行选择。本索引为管理方便，<strong>一般</strong>与主题关联度大的修改于<code>_config.\[theme\].yml</code>中，与“系统”关联度大的（例如文章加密、缓存等）放在<code>_config.yml</code>中。</p><blockquote><p>Hexo 在合并主题配置时，Hexo 配置文件中的 <code>theme_config</code> 的优先级最高，其次是 <code>_config.\[theme\].yml</code> 文件，最后是位于主题目录下的 <code>_config.yml</code> 文件。</p></blockquote><h2 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h2><p>（此段引用<a target="_blank" href="https://butterfly.js.org/posts/21cfbf15" rel="external nofollow noreferrer noopener">https://butterfly.js.org/posts/21cfbf15</a>官方教程）</p><p>在【Blogroot】（文件夹）中打开 Git（没配置 Hexo 主程序的请移步至之前文章），输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>Hexo 需要 Pug 和 Stylus 渲染器，可使用命令安装</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><p>之后还是在【Blogroot】中找到<code>_config.yml</code>文件，使用编辑器打开，找到<code>theme:</code> 并修改此行为<code>theme: butterfly</code></p><p>为减少主题升级带来的不便，可将<strong>主题</strong>的配置文件<code>【Blogroot】/themes/butterfly/_config.yml</code>复制到【Blogroot】目录下，并重命名为<code>_config.butterfly.yml</code>，之后修改主题的配置均可只修改此文件。</p><blockquote><p>注意：</p></blockquote><ol><li>不要把主题目录的 <code>_config.yml</code> 删掉；</li><li>以后只需要在 <code>_config.butterfly.yml</code> 进行配置就行。如果使用了 <code>_config.butterfly.yml</code>， 配置主题的 <code>_config.yml</code> 将不会有效果；</li><li>Hexo 会自动合并主题中的 <code>_config.yml</code> 和 <code>_config.butterfly.yml</code> 里的配置，如果存在同名配置，会使用 <code>_config.butterfly.yml</code> 的配置，其优先度较高。</li></ol><p>到这里主题算是安装完成。</p><h2 id="Butterfly-自定义"><a href="#Butterfly-自定义" class="headerlink" title="Butterfly 自定义"></a>Butterfly 自定义</h2><h3 id="常用基础配置修改索引"><a href="#常用基础配置修改索引" class="headerlink" title="常用基础配置修改索引"></a>常用基础配置修改索引</h3><p><strong>常见</strong>（字面意思）可用修改有：</p><h4 id="自定义导航与页面"><a href="#自定义导航与页面" class="headerlink" title="自定义导航与页面"></a>自定义导航与页面</h4><ul><li><code>_config.butterfly.yml</code>中 menu</li></ul><p>此处修改后，有些页面可能不存在，此时需要在<code>【Blogroot】/source</code>目录下建立同名文件夹，文件夹内创建<code>index.md</code>（可用 hexo 原生命令或第三方编辑器如 Hexon、ESHexoN 等完成）。自己添加页面也是同理，将自定义页面添加至导航请参考导航处格式。补充：此处导航前文字是可以修改的。</p><p>修改例：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  主页：/ || fas fa-home</span><br><span class="line">  归档：/archives/ || fas fa-archive</span><br><span class="line">  ## 标签：/tags/ || fas fa-tags</span><br><span class="line">  分类：/categories/ || fas fa-folder-open</span><br><span class="line">  ## 清单||fas fa-list:</span><br><span class="line">  ##   Music: /music/ || fas fa-music</span><br><span class="line">  ##   Movie: /movies/ || fas fa-video</span><br><span class="line">  友链：/link/ || fas fa-link</span><br><span class="line">  关于：/about/ || fas fa-heart</span><br></pre></td></tr></table></figure><p>请在<code>【Blogroot】/source</code>中创建<code>about</code>、<code>categories</code>、<code>link</code>文件夹（与上方文字对应关系不需多说），并分别在文件夹中创建<code>index.md</code>，里面的格式应该不需要多说了，官网有创建单页的教程，很详细；民间也有。</p><p>【PS：单页中可以有一定的 CSS 代码与 HTML 代码，但不能有 JS】</p><h4 id="简单自定义背景"><a href="#简单自定义背景" class="headerlink" title="简单自定义背景"></a>简单自定义背景</h4><ul><li><code>_config.butterfly.yml</code>中 Image （圖片設置）</li></ul><h4 id="主页标题"><a href="#主页标题" class="headerlink" title="主页标题"></a>主页标题</h4><ul><li><p><code>_config.butterfly.yml</code>中 blog_title_font、subtitle</p></li><li><p><code>_config.yml</code>中 Site</p></li></ul><h4 id="Pjax"><a href="#Pjax" class="headerlink" title="Pjax"></a>Pjax</h4><ul><li><code>_config.butterfly.yml</code>中 pjax</li></ul><h4 id="引入外部资源"><a href="#引入外部资源" class="headerlink" title="引入外部资源"></a>引入外部资源</h4><ul><li><code>_config.butterfly.yml</code>中 inject</li></ul><p>注：建议 head 后加 css、bottom 后加 js</p><h4 id="文章过期提醒"><a href="#文章过期提醒" class="headerlink" title="文章过期提醒"></a>文章过期提醒</h4><ul><li><code>_config.butterfly.yml</code>中 noticeOutdate</li></ul><h3 id="进阶修改索引"><a href="#进阶修改索引" class="headerlink" title="进阶修改索引"></a>进阶修改索引</h3><h4 id="全局美化（参考）"><a href="#全局美化（参考）" class="headerlink" title="全局美化（参考）"></a>全局美化（参考）</h4><p><a target="_blank" href="https://moonshuo.cn/" rel="external nofollow noreferrer noopener">https://moonshuo.cn/</a></p><h4 id="博客背景使用一图流"><a href="#博客背景使用一图流" class="headerlink" title="博客背景使用一图流"></a>博客背景使用一图流</h4><p><a target="_blank" href="https://qianchenggit.github.io/" rel="external nofollow noreferrer noopener">https://qianchenggit.github.io/</a></p><p>打开<code>_config.butterfly.yml</code>文件，找到图片相关<code>（banner）</code>几个，后面的图片都留空不填，如果和本站效果相仿请直接改成下方内容（注释已去除）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">## Disable all banner image</span><br><span class="line">disable_top_img: false ## 【取消首页全屏的图片】</span><br><span class="line"></span><br><span class="line">index_img: transparent ## 【此处为透明效果】</span><br><span class="line"></span><br><span class="line">default_top_img: 【改成你自己的图片地址，不想要其他图片的改法同上方 index_img】</span><br><span class="line"></span><br><span class="line">archive_img: 【改成你自己的图片地址，不想要其他图片的改法同上方 index_img】</span><br><span class="line"></span><br><span class="line">tag_img:</span><br><span class="line"></span><br><span class="line">tag_per_img:</span><br><span class="line"></span><br><span class="line">category_img:</span><br><span class="line"></span><br><span class="line">category_per_img:</span><br></pre></td></tr></table></figure><p>还是这个文件，找到以下内容并修改（已去除部分注释）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">## Website Background （設置網站背景）</span><br><span class="line">background: url() ## 【括号内换成自己希望使用的背景图地址】</span><br><span class="line"></span><br><span class="line">## Footer Background</span><br><span class="line">footer_bg: transparent ## 【页脚透明】</span><br></pre></td></tr></table></figure><p>不喜欢黑色笼罩层的请再往下多看一行（为 header 或 footer 添加黑色半透遮罩）（这里我没试过。当然，另使用 CSS 修改也是可行的）</p><p>之后 Hexo 三连即可生效。如果不喜欢此时的样式，请另行参考网上各路大神自定义的 CSS。</p><h4 id="随机图片封面"><a href="#随机图片封面" class="headerlink" title="随机图片封面"></a>随机图片封面</h4><h5 id="直接填写"><a href="#直接填写" class="headerlink" title="直接填写"></a>直接填写</h5><p>如果是使用多个 api 或填入多个图片地址则可不使用此方法，直接在<code>_config.butterfly.yml</code>文件中<code>cover:</code>后添加即可</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">default_cover: </span><br><span class="line">  - 【图片路径或 api】</span><br></pre></td></tr></table></figure><h5 id="使用-js-支持随机图片-api"><a href="#使用-js-支持随机图片-api" class="headerlink" title="使用 js 支持随机图片 api"></a>使用 js 支持随机图片 api</h5><p><a target="_blank" href="https://blog.mitsumune.top/" rel="external nofollow noreferrer noopener">https://blog.mitsumune.top/</a></p><p>打开【Blogroot】下&#x2F;themes&#x2F;butterfly&#x2F;scripts 目录，新建一个 <code>random_img.js</code> 文件，复制以下内容并保存：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Butterfly</span></span><br><span class="line"><span class="comment"> * ramdom cover</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">filter</span>.<span class="title function_">register</span>(<span class="string">&#x27;before_post_render&#x27;</span>, <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; config &#125; = <span class="variable language_">this</span></span><br><span class="line">  <span class="keyword">if</span> (config.<span class="property">post_asset_folder</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> imgTestReg = <span class="regexp">/\.(png|jpe?g|gif|svg|webp)(\?.*)?$/</span></span><br><span class="line">    <span class="keyword">const</span> topImg = data.<span class="property">top_img</span></span><br><span class="line">    <span class="keyword">const</span> cover = data.<span class="property">cover</span></span><br><span class="line">    <span class="keyword">if</span> (topImg &amp;&amp; topImg.<span class="title function_">indexOf</span>(<span class="string">&#x27;/&#x27;</span>) === -<span class="number">1</span> &amp;&amp; imgTestReg.<span class="title function_">test</span>(topImg)) data.<span class="property">top_img</span> = data.<span class="property">path</span> + topImg</span><br><span class="line">    <span class="keyword">if</span> (cover &amp;&amp; cover.<span class="title function_">indexOf</span>(<span class="string">&#x27;/&#x27;</span>) === -<span class="number">1</span>) data.<span class="property">cover</span> = data.<span class="property">path</span> + cover</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (data.<span class="property">cover</span> === <span class="literal">false</span>) &#123;</span><br><span class="line">    data.<span class="property">randomcover</span> = <span class="title function_">randomCover</span>()</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  data.<span class="property">cover</span> = data.<span class="property">cover</span> || <span class="title function_">randomCover</span>()</span><br><span class="line">  <span class="keyword">return</span> data</span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">randomCover</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> theme = hexo.<span class="property">theme</span>.<span class="property">config</span></span><br><span class="line">  <span class="keyword">let</span> cover</span><br><span class="line">  <span class="keyword">let</span> num</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (theme.<span class="property">cover</span> &amp;&amp; theme.<span class="property">cover</span>.<span class="property">default_cover</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(theme.<span class="property">cover</span>.<span class="property">default_cover</span>)) &#123;</span><br><span class="line">      cover = theme.<span class="property">cover</span>.<span class="property">default_cover</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      num = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * theme.<span class="property">cover</span>.<span class="property">default_cover</span>.<span class="property">length</span>)</span><br><span class="line">      cover = theme.<span class="property">cover</span>.<span class="property">default_cover</span>[num]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    cover = theme.<span class="property">default_top_img</span> || <span class="string">&#x27;data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(theme.<span class="property">cover</span>.<span class="property">suffix</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(theme.<span class="property">cover</span>.<span class="property">suffix</span> == <span class="number">1</span>)</span><br><span class="line">      cover = cover + (<span class="string">&quot;?&quot;</span> + <span class="title class_">Math</span>.<span class="title function_">ceil</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">10000</span>))</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(theme.<span class="property">cover</span>.<span class="property">suffix</span> == <span class="number">2</span>)</span><br><span class="line">      cover = cover + (<span class="string">&quot;&amp;&quot;</span> + <span class="title class_">Math</span>.<span class="title function_">ceil</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">10000</span>))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cover</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在<code>_config.butterfly.yml</code>中找到<code>cover:</code>，并在其后插入<code>suffix: 1</code>并保存（目的是在链接后面加入后缀？spm&#x3D;{随机数} 0 是不使用后缀、1 是？加随机数；2 是&amp;加随机数）</p><p>三连生效</p><h4 id="深色模式流星特效"><a href="#深色模式流星特效" class="headerlink" title="深色模式流星特效"></a>深色模式流星特效</h4><p>【参考<a target="_blank" href="https://blog.meta-code.top/2021/09/30/2021-7/" rel="external nofollow noreferrer noopener">https://blog.meta-code.top/2021/09/30/2021-7/</a>】</p><p>在前文提到的<code>_config.butterfly.yml</code>中找到<code>inject</code>处，在<code>bottom:</code>后</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&#x27;&lt;canvas id=&quot;universe&quot;&gt;&lt;/canvas&gt;&#x27;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&#x27;&lt;script src=&quot;/js/universe.js&quot;&gt;&lt;/script&gt;&#x27;</span></span><br></pre></td></tr></table></figure><p>之后在<code>【Blogroot】/themes/butterfly/sources/js</code>目录下创建一个<code>universe.js</code>文件，也可以添加到自己的 js 文件中。该文件或相关位置编写如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">dark</span>(<span class="params"></span>)&#123;<span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span>=<span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span>||<span class="variable language_">window</span>.<span class="property">mozRequestAnimationFrame</span>||<span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span>||<span class="variable language_">window</span>.<span class="property">msRequestAnimationFrame</span>;<span class="keyword">var</span> n,e,i,h,t=<span class="number">0.05</span>,s=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;universe&quot;</span>),o=!<span class="number">0</span>,a=<span class="string">&quot;180,184,240&quot;</span>,r=<span class="string">&quot;226,225,142&quot;</span>,d=<span class="string">&quot;226,225,224&quot;</span>,c=[];<span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>)&#123;(n=<span class="variable language_">window</span>.<span class="property">innerWidth</span>),(e=<span class="variable language_">window</span>.<span class="property">innerHeight</span>),(i=<span class="number">0.216</span>*n),s.<span class="title function_">setAttribute</span>(<span class="string">&quot;width&quot;</span>,n),s.<span class="title function_">setAttribute</span>(<span class="string">&quot;height&quot;</span>,e)&#125;<span class="keyword">function</span> <span class="title function_">u</span>(<span class="params"></span>)&#123;h.<span class="title function_">clearRect</span>(<span class="number">0</span>,<span class="number">0</span>,n,e);<span class="keyword">for</span>(<span class="keyword">var</span> t=c.<span class="property">length</span>,i=<span class="number">0</span>;i&lt;t;i++)&#123;<span class="keyword">var</span> s=c[i];s.<span class="title function_">move</span>(),s.<span class="title function_">fadeIn</span>(),s.<span class="title function_">fadeOut</span>(),s.<span class="title function_">draw</span>()&#125;&#125;<span class="keyword">function</span> <span class="title function_">y</span>(<span class="params"></span>)&#123;(<span class="variable language_">this</span>.<span class="property">reset</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;(<span class="variable language_">this</span>.<span class="property">giant</span>=<span class="title function_">m</span>(<span class="number">3</span>)),(<span class="variable language_">this</span>.<span class="property">comet</span>=!<span class="variable language_">this</span>.<span class="property">giant</span>&amp;&amp;!o&amp;&amp;<span class="title function_">m</span>(<span class="number">10</span>)),(<span class="variable language_">this</span>.<span class="property">x</span>=<span class="title function_">l</span>(<span class="number">0</span>,n-<span class="number">10</span>)),(<span class="variable language_">this</span>.<span class="property">y</span>=<span class="title function_">l</span>(<span class="number">0</span>,e)),(<span class="variable language_">this</span>.<span class="property">r</span>=<span class="title function_">l</span>(<span class="number">1.1</span>,<span class="number">2.6</span>)),(<span class="variable language_">this</span>.<span class="property">dx</span>=<span class="title function_">l</span>(t,<span class="number">6</span>*t)+(<span class="variable language_">this</span>.<span class="property">comet</span>+<span class="number">1</span>-<span class="number">1</span>)*t*<span class="title function_">l</span>(<span class="number">50</span>,<span class="number">120</span>)+<span class="number">2</span>*t),(<span class="variable language_">this</span>.<span class="property">dy</span>=-<span class="title function_">l</span>(t,<span class="number">6</span>*t)-(<span class="variable language_">this</span>.<span class="property">comet</span>+<span class="number">1</span>-<span class="number">1</span>)*t*<span class="title function_">l</span>(<span class="number">50</span>,<span class="number">120</span>)),(<span class="variable language_">this</span>.<span class="property">fadingOut</span>=<span class="literal">null</span>),(<span class="variable language_">this</span>.<span class="property">fadingIn</span>=!<span class="number">0</span>),(<span class="variable language_">this</span>.<span class="property">opacity</span>=<span class="number">0</span>),(<span class="variable language_">this</span>.<span class="property">opacityTresh</span>=<span class="title function_">l</span>(<span class="number">0.2</span>,<span class="number">1</span>-<span class="number">0.4</span>*(<span class="variable language_">this</span>.<span class="property">comet</span>+<span class="number">1</span>-<span class="number">1</span>))),(<span class="variable language_">this</span>.<span class="property">do</span>=<span class="title function_">l</span>(<span class="number">5e-4</span>,<span class="number">0.002</span>)+<span class="number">0.001</span>*(<span class="variable language_">this</span>.<span class="property">comet</span>+<span class="number">1</span>-<span class="number">1</span>))&#125;),(<span class="variable language_">this</span>.<span class="property">fadeIn</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">this</span>.<span class="property">fadingIn</span>&amp;&amp;((<span class="variable language_">this</span>.<span class="property">fadingIn</span>=!(<span class="variable language_">this</span>.<span class="property">opacity</span>&gt;<span class="variable language_">this</span>.<span class="property">opacityTresh</span>)),(<span class="variable language_">this</span>.<span class="property">opacity</span>+=<span class="variable language_">this</span>.<span class="property">do</span>))&#125;),(<span class="variable language_">this</span>.<span class="property">fadeOut</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">this</span>.<span class="property">fadingOut</span>&amp;&amp;((<span class="variable language_">this</span>.<span class="property">fadingOut</span>=!(<span class="variable language_">this</span>.<span class="property">opacity</span>&lt;<span class="number">0</span>)),(<span class="variable language_">this</span>.<span class="property">opacity</span>-=<span class="variable language_">this</span>.<span class="property">do</span>*<span class="number">0.5</span>),(<span class="variable language_">this</span>.<span class="property">x</span>&gt;n||<span class="variable language_">this</span>.<span class="property">y</span>&lt;<span class="number">0</span>)&amp;&amp;((<span class="variable language_">this</span>.<span class="property">fadingOut</span>=!<span class="number">1</span>),<span class="variable language_">this</span>.<span class="title function_">reset</span>()))&#125;),(<span class="variable language_">this</span>.<span class="property">draw</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="keyword">if</span>((h.<span class="title function_">beginPath</span>(),<span class="variable language_">this</span>.<span class="property">giant</span>))(h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+a+<span class="string">&quot;,&quot;</span>+<span class="variable language_">this</span>.<span class="property">opacity</span>+<span class="string">&quot;)&quot;</span>),h.<span class="title function_">arc</span>(<span class="variable language_">this</span>.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>,!<span class="number">1</span>);<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">comet</span>)&#123;(h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+d+<span class="string">&quot;,&quot;</span>+<span class="variable language_">this</span>.<span class="property">opacity</span>+<span class="string">&quot;)&quot;</span>),h.<span class="title function_">arc</span>(<span class="variable language_">this</span>.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>,<span class="number">1.5</span>,<span class="number">0</span>,<span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>,!<span class="number">1</span>);<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;<span class="number">30</span>;t++)(h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+d+<span class="string">&quot;,&quot;</span>+(<span class="variable language_">this</span>.<span class="property">opacity</span>-(<span class="variable language_">this</span>.<span class="property">opacity</span>/<span class="number">20</span>)*t)+<span class="string">&quot;)&quot;</span>),h.<span class="title function_">rect</span>(<span class="variable language_">this</span>.<span class="property">x</span>-(<span class="variable language_">this</span>.<span class="property">dx</span>/<span class="number">4</span>)*t,<span class="variable language_">this</span>.<span class="property">y</span>-(<span class="variable language_">this</span>.<span class="property">dy</span>/<span class="number">4</span>)*t-<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,),h.<span class="title function_">fill</span>()&#125;<span class="title function_">else</span>(h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+r+<span class="string">&quot;,&quot;</span>+<span class="variable language_">this</span>.<span class="property">opacity</span>+<span class="string">&quot;)&quot;</span>),h.<span class="title function_">rect</span>(<span class="variable language_">this</span>.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>,<span class="variable language_">this</span>.<span class="property">r</span>,<span class="variable language_">this</span>.<span class="property">r</span>);h.<span class="title function_">closePath</span>(),h.<span class="title function_">fill</span>()&#125;),(<span class="variable language_">this</span>.<span class="property">move</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;(<span class="variable language_">this</span>.<span class="property">x</span>+=<span class="variable language_">this</span>.<span class="property">dx</span>),(<span class="variable language_">this</span>.<span class="property">y</span>+=<span class="variable language_">this</span>.<span class="property">dy</span>),!<span class="number">1</span>===<span class="variable language_">this</span>.<span class="property">fadingOut</span>&amp;&amp;<span class="variable language_">this</span>.<span class="title function_">reset</span>(),(<span class="variable language_">this</span>.<span class="property">x</span>&gt;n-n/<span class="number">4</span>||<span class="variable language_">this</span>.<span class="property">y</span>&lt;<span class="number">0</span>)&amp;&amp;(<span class="variable language_">this</span>.<span class="property">fadingOut</span>=!<span class="number">0</span>)&#125;),<span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;o=!<span class="number">1</span>&#125;,<span class="number">50</span>)&#125;<span class="keyword">function</span> <span class="title function_">m</span>(<span class="params">t</span>)&#123;<span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="number">1e3</span>*<span class="title class_">Math</span>.<span class="title function_">random</span>())+<span class="number">1</span>&lt;<span class="number">10</span>*t&#125;<span class="keyword">function</span> <span class="title function_">l</span>(<span class="params">t,i</span>)&#123;<span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>()*(i-t)+t&#125;<span class="title function_">f</span>(),<span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>,f,!<span class="number">1</span>),(<span class="keyword">function</span>(<span class="params"></span>)&#123;h=s.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>);<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;i;t++)(c[t]=<span class="keyword">new</span> <span class="title function_">y</span>()),c[t].<span class="title function_">reset</span>();<span class="title function_">u</span>()&#125;)(),(<span class="keyword">function</span> <span class="title function_">t</span>(<span class="params"></span>)&#123;<span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;html&quot;</span>)[<span class="number">0</span>].<span class="title function_">getAttribute</span>(<span class="string">&quot;data-theme&quot;</span>)==<span class="string">&quot;dark&quot;</span>&amp;&amp;<span class="title function_">u</span>(),<span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(t)&#125;)()&#125;</span><br><span class="line"><span class="title function_">dark</span>();</span><br></pre></td></tr></table></figure><p>以上段落的最后部分<code>(&#39;data-theme&#39;)==&#39;dark&#39;</code>一段表明其仅在主题深色模式下启用。</p><p>为修改方便，随后请在<code>【Blogroot】/themes/butterfly/sources/css</code>目录下创建一个 css 文件，名字自定，例如<code>custom.css</code>，在其中加上：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 夜间模式下背景宇宙星光 */</span></span><br><span class="line"><span class="selector-id">#universe</span> &#123;  </span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">pointer-events</span>: none;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 亮色模式下隐藏 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;light&#x27;</span>]</span> <span class="selector-id">#universe</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>回到<code>_config.butterfly.yml</code>，再次找到<code>inject</code>处，在<code>head:</code>后</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;/&gt;</span></span><br></pre></td></tr></table></figure><p>hexo 三连，完成</p><h4 id="live2D"><a href="#live2D" class="headerlink" title="live2D"></a>live2D</h4><p>在<code>【Blogroot】</code>目录下打开 Git，输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d #普通版 Live2D 主程序</span><br><span class="line">npm install 【模型名称】 #字面意思</span><br></pre></td></tr></table></figure><p>作者提供了以下几个模型于<a target="_blank" href="https://github.com/xiazeyu/live2d-widget-models" rel="external nofollow noreferrer noopener">https://github.com/xiazeyu/live2d-widget-models</a>中</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">live2d-widget-model-chitose</span><br><span class="line">live2d-widget-model-epsilon2_1</span><br><span class="line">live2d-widget-model-gf</span><br><span class="line">live2d-widget-model-haru/01 (use npm install --save live2d-widget-model-haru)</span><br><span class="line">live2d-widget-model-haru/02 (use npm install --save live2d-widget-model-haru)</span><br><span class="line">live2d-widget-model-haruto</span><br><span class="line">live2d-widget-model-hibiki</span><br><span class="line">live2d-widget-model-hijiki</span><br><span class="line">live2d-widget-model-izumi</span><br><span class="line">live2d-widget-model-koharu</span><br><span class="line">live2d-widget-model-miku</span><br><span class="line">live2d-widget-model-ni-j</span><br><span class="line">live2d-widget-model-nico</span><br><span class="line">live2d-widget-model-nietzsche</span><br><span class="line">live2d-widget-model-nipsilon</span><br><span class="line">live2d-widget-model-nito</span><br><span class="line">live2d-widget-model-shizuku</span><br><span class="line">live2d-widget-model-tororo</span><br><span class="line">live2d-widget-model-tsumiki</span><br><span class="line">live2d-widget-model-unitychan</span><br><span class="line">live2d-widget-model-wanko</span><br><span class="line">live2d-widget-model-z16</span><br></pre></td></tr></table></figure><p>回到<code>_config.yml</code>，新起一段添加</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#是否启用</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span></span><br><span class="line">  <span class="attr">model:</span> </span><br><span class="line">    <span class="attr">use:</span> <span class="string">【模型名称】</span> <span class="comment">#模型选择</span></span><br><span class="line">  <span class="attr">display:</span> </span><br><span class="line">    <span class="attr">position:</span> <span class="string">right</span> <span class="comment">#模型位置</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">120</span> <span class="comment">#模型宽度</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">240</span> <span class="comment">#模型高度</span></span><br><span class="line">    <span class="attr">hOffset:</span> <span class="number">20</span> <span class="comment">#纵向偏移</span></span><br><span class="line">    <span class="attr">vOffset:</span> <span class="number">-55</span> <span class="comment">#横向偏移</span></span><br><span class="line">  <span class="attr">mobile:</span> </span><br><span class="line">    <span class="attr">show:</span> <span class="literal">false</span> <span class="comment">#是否在手机端显示</span></span><br><span class="line">  <span class="attr">react:</span></span><br><span class="line">    <span class="attr">opacity:</span> <span class="number">0.8</span> <span class="comment">#透明度</span></span><br></pre></td></tr></table></figure><p>另有更高级版本可参考<a target="_blank" href="https://www.mmbkz.cn/a262193e.html" rel="external nofollow noreferrer noopener">https://www.mmbkz.cn/a262193e.html</a>和<a target="_blank" href="https://diego369.github.io/2022/04/08/live2d" rel="external nofollow noreferrer noopener">https://diego369.github.io/2022/04/08/live2d</a></p><h4 id="全局左下角-APlayer"><a href="#全局左下角-APlayer" class="headerlink" title="全局左下角 APlayer"></a>全局左下角 APlayer</h4><p>官方教程为<a target="_blank" href="https://butterfly.js.org/posts/507c070f/" rel="external nofollow noreferrer noopener">https://butterfly.js.org/posts/507c070f/</a></p><p>hexo-tag-aplayer 可使用下文方法引入并使用。</p><p>在<code>【Blogroot】</code>目录下打开 Git，安装插件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-tag-aplayer</span><br></pre></td></tr></table></figure><p>回到<code>_config.butterfly.yml</code>，在约第 859 行 APlayer 处、第 919 行 inject 处作如下修改</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">## Inject the css and script (aplayer/meting)</span><br><span class="line">aplayerInject:</span><br><span class="line"><span class="deletion">-  enable:</span></span><br><span class="line"><span class="deletion">-  per_page:</span></span><br><span class="line"><span class="addition">+  enable: true</span></span><br><span class="line"><span class="addition">+  per_page: true</span></span><br><span class="line">......</span><br><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    ......</span><br><span class="line">  bottom:</span><br><span class="line">    ......</span><br><span class="line"><span class="addition">+    - &lt;div class=&quot;aplayer no-destroy&quot; data-id=&quot;【自定义】&quot; data-server=&quot;netease&quot; data-type=&quot;playlist&quot; data-fixed=&quot;true&quot; data-mini=&quot;true&quot; data-volume=&quot;0.2&quot; data-listFolded=&quot;true&quot; data-preload=&quot;none&quot; data-autoplay=&quot;false&quot; muted&gt;&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><p>上方示例使用了<code>MetingJS</code>，配置大多与 MetingJS 相同，普通使用只需注意以下参数：</p><ul><li>data-id&#x3D;”” ： 指定调用的 id ，一般可以在地址栏中找到</li><li>data-server&#x3D;”netease” ： 网易云音乐服务器，可改为 <code>netease</code>, <code>tencent</code>, <code>kugou</code>, <code>xiami</code>, <code>baidu</code> ，分别对应<code>网易云音乐</code>、<code>QQ 音乐</code>、<code>酷狗音乐</code>、<code>虾米音乐</code>、<code>百度音乐</code></li><li>data-type&#x3D;”playlist ： 指定调用类型，可选 <code>song</code>, <code>playlist</code>, <code>album</code>, <code>search</code>, <code>artist</code> ，分别对应<code>单曲</code>、<code>歌单</code>、<code>专辑</code>、<code>搜索结果</code>、<code>艺术家</code></li><li>data-fixed&#x3D;”true” ： 播放器吸附在页面左下角</li><li>data-mini&#x3D;”true” ： 迷你版播放器</li><li>data-volume&#x3D;”0.2” ： 默认音量为 0.2</li><li>autoplay&#x3D;”false” ： 取消自动播放</li></ul><p>APlayer 基本配置完成，美化之类的可自行搜索。</p><h4 id="信笺样式留言板"><a href="#信笺样式留言板" class="headerlink" title="信笺样式留言板"></a>信笺样式留言板</h4><p><a target="_blank" href="https://akilar.top/posts/e2d3c450/" rel="external nofollow noreferrer noopener">https://akilar.top/posts/e2d3c450/</a></p><p>在【Blogroot】下打开 Git 运行指令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-envelope --save</span><br></pre></td></tr></table></figure><p>在站点配置文件或者主题配置文件（二选一）添加配置项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## envelope_comment</span></span><br><span class="line"><span class="comment">## see https://akilar.top/posts/e2d3c450/</span></span><br><span class="line"><span class="attr">envelope_comment:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制开关</span></span><br><span class="line">  <span class="attr">custom_pic:</span>      </span><br><span class="line">    <span class="attr">cover:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/violet.jpg</span> <span class="comment">#信笺头部图片</span></span><br><span class="line">    <span class="attr">line:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/line.png</span> <span class="comment">#信笺底部图片</span></span><br><span class="line">    <span class="attr">beforeimg:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/before.png</span> <span class="comment">## 信封前半部分</span></span><br><span class="line">    <span class="attr">afterimg:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/after.png</span> <span class="comment">## 信封后半部分</span></span><br><span class="line">  <span class="attr">message:</span> <span class="comment">#信笺正文，多行文本，写法如下</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想问的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想说的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想吐槽的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">哪怕是有什么想吃的，都可以告诉我哦~</span></span><br><span class="line">  <span class="attr">bottom:</span> <span class="string">自动书记人偶竭诚为您服务！</span> <span class="comment">#仅支持单行文本</span></span><br><span class="line">  <span class="attr">height:</span> <span class="comment">#1050px，信封划出的高度</span></span><br><span class="line">  <span class="attr">path:</span> <span class="comment">#【可选】comments 的路径名称。默认为 comments，生成的页面为 comments/index.html</span></span><br><span class="line">  <span class="attr">front_matter:</span> <span class="comment">#【可选】comments 页面的 front_matter 配置</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">留言板</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="友情链接设置与美化"><a href="#友情链接设置与美化" class="headerlink" title="友情链接设置与美化"></a>友情链接设置与美化</h4><h5 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h5><p>在<code>[Blogroot]\source\</code>目录下创建文件夹（例如<code>friends</code>），然后在此目录下创建<code>index.md</code>文件。在此文件中输入以下内容（基本内容，其他你亦可自定义）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 友情链接</span><br><span class="line">type: &#x27;link&#x27;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>然后前往<code>[Blogroot]\source\_data\</code>目录下新建<code>link.yml</code>文件（没有目录的自己创建个），按照以下格式输入：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">分组</span> <span class="number">1</span> <span class="comment">## title</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="comment">## 分组备注</span></span><br><span class="line">  <span class="attr">link_list:</span> <span class="comment">## 友链列表</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">名称</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">访问链接</span> <span class="string">url</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">图片链接（最好通过图床构建，避免加载失效）</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">链接描述</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">名称</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">访问链接</span> <span class="string">url</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">图片链接</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">链接描述</span></span><br><span class="line">    </span><br><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="comment">## title</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="comment">## 分组备注</span></span><br><span class="line">  <span class="attr">link_list:</span> <span class="string">分组</span> <span class="number">2</span> <span class="comment">## 友链列表</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">名称</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">访问链接</span> <span class="string">url</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">图片链接</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">链接描述</span></span><br></pre></td></tr></table></figure><p><code>_config.butterfly.yml</code>前面关于导航栏的配置，想必无需多言，去除注释即可。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">友链：/friends/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span> <span class="comment">## 斜杠中间那个就是相对地址，例如你前面创建单页的文件夹名为`friends`，此处便如是填写。</span></span><br></pre></td></tr></table></figure><p>Hexo 三连即可。</p><h5 id="美化"><a href="#美化" class="headerlink" title="美化"></a>美化</h5><p><a target="_blank" href="https://akilar.top/posts/57291286/" rel="external nofollow noreferrer noopener">https://akilar.top/posts/57291286/</a></p><h4 id="加载动画"><a href="#加载动画" class="headerlink" title="加载动画"></a>加载动画</h4><h5 id="齿轮"><a href="#齿轮" class="headerlink" title="齿轮"></a>齿轮</h5><p>参考<a target="_blank" href="https://cnhuazhu.top/butterfly/2021/02/25/Hexo%E9%AD%94%E6%94%B9/Hexo%E7%AB%99%E7%82%B9%E5%8A%A0%E8%BD%BD%E5%8A%A8%E7%94%BB%E4%BF%AE%E6%94%B9%EF%BC%88%E9%BD%BF%E8%BD%AE%E6%95%88%E6%9E%9C%EF%BC%89/" rel="external nofollow noreferrer noopener">https://cnhuazhu.top/butterfly/2021/02/25/Hexo%E9%AD%94%E6%94%B9/Hexo%E7%AB%99%E7%82%B9%E5%8A%A0%E8%BD%BD%E5%8A%A8%E7%94%BB%E4%BF%AE%E6%94%B9%EF%BC%88%E9%BD%BF%E8%BD%AE%E6%95%88%E6%9E%9C%EF%BC%89/</a></p><p>（最终我没有选择此方案）</p><h5 id="胶囊样式加载进度条"><a href="#胶囊样式加载进度条" class="headerlink" title="胶囊样式加载进度条"></a>胶囊样式加载进度条</h5><blockquote><p><font color="orange">虽说 Butterfly4.5.0 就内置了 pace，但我配置时未能达到预期结果，遂另引入。引入文件后建议把<code>preloader:</code>设置成<code>enable: false</code>，防止冲突（我先前保持这里启用时加载正常，升级完主题至 4.11.0 后不关的话进度条会很奇怪，原因未知，可能是个例）。</font></p></blockquote><p>回到<code>_config.butterfly.yml</code>找到<code>preloader</code>，将<code>enable: false</code>改为 true。你要不放心的话在此段的 pace_css_url 后修改</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">preloader:</span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"><span class="addition">+  enable: true</span></span><br><span class="line">  ...</span><br><span class="line"><span class="deletion">-  pace_css_url:</span></span><br><span class="line"><span class="addition">+  pace_css_url: https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace-theme-default.min.css</span></span><br></pre></td></tr></table></figure><p>找到<code>inject:</code>中<code>bottom:</code>，添加 js：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bottom:</span><br><span class="line">  ...</span><br><span class="line"><span class="addition">+  - &lt;script data-pjax src=&quot;https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>随后在<code>【Blogroot】/themes/butterfly/sources/css</code>中新建一个 css 文件（也可以使用前文提到的 custom.css），引入方法同前文。在这个文件中添加</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.pace</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">pointer-events</span>: none;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">  -webkit-user-<span class="selector-tag">select</span>: none;</span><br><span class="line">  -moz-user-<span class="selector-tag">select</span>: none;</span><br><span class="line">  user-<span class="selector-tag">select</span>: none;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2000</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">4rem</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#eaecf2</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#e3e8f7</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace-inactive</span> <span class="selector-class">.pace-progress</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: .<span class="number">3s</span> ease-in</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace</span> <span class="selector-class">.pace-progress</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -moz-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -ms-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -o-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  -o-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2000</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="number">#ee7752</span>, <span class="number">#e73c7e</span>, <span class="number">#23a6d5</span>, <span class="number">#23d5ab</span>);</span><br><span class="line">  <span class="attribute">animation</span>: gradient <span class="number">1.5s</span> ease infinite;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">200%</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace</span><span class="selector-class">.pace-inactive</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">8px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> gradient &#123;</span><br><span class="line"><span class="number">0%</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">50%</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">100%</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>hexo 三连，完成</p><h4 id="页脚电子钟与-GitHub-徽标"><a href="#页脚电子钟与-GitHub-徽标" class="headerlink" title="页脚电子钟与 GitHub 徽标"></a>页脚电子钟与 GitHub 徽标</h4><p>Native JS Timer（页脚电子钟）：<a target="_blank" href="https://akilar.top/posts/b941af/" rel="external nofollow noreferrer noopener">https://akilar.top/posts/b941af/</a></p><p>Add Github Badge（自定义添加 GitHub 徽标）：<a target="_blank" href="https://akilar.top/posts/e87ad7f8/" rel="external nofollow noreferrer noopener">https://akilar.top/posts/e87ad7f8/</a></p><p>注：控制建站时间（即开始时间）的代码在<code>runtime.js</code>中，如需更改，可打开其 CDN 地址将其保存至本地，修改起始日期（大约在这个文件的第二行）为自己的后引入。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//省略。..</span></span><br><span class="line"><span class="keyword">let</span> create_time = <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&#x27;2022-10-1 00:00:00&#x27;</span>).<span class="title function_">getTime</span>() / <span class="number">1000</span>); <span class="comment">//例：显示时间为 2022 年 10 月 1 日零时零分零秒距今过去的时间。但这样的日期格式会有问题，下面将给出解决方法。</span></span><br><span class="line"><span class="comment">//省略。..</span></span><br></pre></td></tr></table></figure><p>此时你可能会发现，这个日期格式化方式在 iOS 平台中部分浏览器无法正确显示时间，需要修改为下方格式：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//省略。..</span></span><br><span class="line"><span class="keyword">let</span> create_time = <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&#x27;2022/10/1 00:00:00&#x27;</span>).<span class="title function_">getTime</span>() / <span class="number">1000</span>);</span><br><span class="line"><span class="comment">//省略。..</span></span><br></pre></td></tr></table></figure><h4 id="RSS"><a href="#RSS" class="headerlink" title="RSS"></a>RSS</h4><p>在【Blogroot】下打开 Git，输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure><p>然后打开<code>_config.yml</code>，在末尾新起一行添加</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## RSS</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">## 是否启用插件</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span> <span class="comment">## RSS 的类型，有 atom 和 rss2 两个选项，使用默认 atom 就好了</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span> <span class="comment">## 文件路径，默认是 atom.xml/rss2.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">15</span> <span class="comment">## 展示文章的数量，使用 0 或 false 代表展示全部</span></span><br><span class="line">  <span class="attr">hub:</span> <span class="comment">## 这个我没用上，根据官网，空着就行</span></span><br><span class="line">  <span class="attr">content:</span> <span class="comment">## 在 RSS 文件中是否包含内容 , 有 3 个值 true/false/默认不填 (false)</span></span><br><span class="line">  <span class="attr">content_limit:</span> <span class="number">100</span> <span class="comment">## 指定内容的长度作为摘要，仅仅在上面 content 设置为 false 和没有自定义的描述出现</span></span><br><span class="line">  <span class="attr">content_limit_delim:</span> <span class="string">&#x27; &#x27;</span> <span class="comment">## 上面截取描述的分隔符，截取内容是以指定的这个分隔符作为截取结束的标志。在达到规定的内容长度之前最后出现的这个分隔符之前的内容，防止从中间截断。</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span> <span class="comment">## 采用日期进行排序</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">icon.png</span> <span class="comment">## 给 rss 链接配置 icon</span></span><br><span class="line">  <span class="attr">autodiscovery:</span> <span class="literal">true</span> <span class="comment">## 自动发现提要</span></span><br><span class="line">  <span class="attr">template:</span> <span class="comment">## 给 rss 文章配置模板</span></span><br></pre></td></tr></table></figure><p>【注：<code>_config.yml</code>文件前面约 16 行左右 url 处需填写你博客的地址，详见“优化链接”】</p><blockquote><p><font color="orange">【注：主题配置文件中不添加下面这一段貌似不影响什么】</font></p></blockquote><p><del>回到<code>_config.butterfly.yml</code>，新起一行，添加</del></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">rss:</span> <span class="string">/atom.xml</span></span><br></pre></td></tr></table></figure><p>还是这个文件，找到 social 一栏，添加</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  ## fab fa-github: https://github.com/xxxxx || Github || &#x27;#24292e&#x27;</span><br><span class="line">  ## fas fa-envelope: mailto:xxxxxx@gmail.com || Email || &#x27;#4a7dbe&#x27;</span><br><span class="line"><span class="addition">+  fas fa-rss: https://www.example.com/atom.xml ## 在右侧作者头像下面添加 RSS 按钮</span></span><br></pre></td></tr></table></figure><p>hexo 三连，完成</p><h4 id="侧边栏日历"><a href="#侧边栏日历" class="headerlink" title="侧边栏日历"></a>侧边栏日历</h4><p>参考<a target="_blank" href="https://moonshuo.cn/posts/50269.html" rel="external nofollow noreferrer noopener">https://moonshuo.cn/posts/50269.html</a></p><p>在<code>【Blogroot】</code>目录下打开 Git，输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm -registry=https://registry.npm.taobao.org ## 你如果已经安装过 cnpm 则可忽略这条</span><br><span class="line">cnpm install --save git://github.com/howiefh/hexo-generator-calendar.git</span><br></pre></td></tr></table></figure><p>从<a target="_blank" href="https://github.com/pengloo53/Hexo-theme-light_cn/tree/master/source/js" rel="external nofollow noreferrer noopener">https://github.com/pengloo53/Hexo-theme-light_cn&#x2F;tree&#x2F;master&#x2F;source&#x2F;js</a>下载<code>calendar.js</code>和<code>language.js</code>两个文件，将其保存到<code>【Blogroot】/themes/Butterfly/source/js/</code>目录下。保存后请使用编辑器打开<code>calendar.js</code>文件，在结尾<code>&#125;(jQuery));</code>前添加</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">    root: &#x27;/calendar/&#x27;,</span><br><span class="line">    url: &#x27;/calendar.json&#x27;</span><br><span class="line">  &#125;;</span><br><span class="line">  </span><br><span class="line"><span class="addition">+  $(document).ready(function () &#123;</span></span><br><span class="line"><span class="addition">+     $(&#x27;#calendar&#x27;).aCalendar(&#x27;zh-CN&#x27;);//&#x27;zh-CN&#x27;请根据自己博客的语言选择</span></span><br><span class="line"><span class="addition">+  &#125;);</span></span><br><span class="line"></span><br><span class="line">&#125;(jQuery));</span><br></pre></td></tr></table></figure><p>之后打开<code>_config.butterfly.yml</code>，找到<code>inject:</code>，在<code>bottom:</code>后添加</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bottom:</span><br><span class="line">  ...</span><br><span class="line">+ - &lt;script src=&quot;/js/jquery.min.js&quot;&gt;&lt;/script&gt; ## 这段没引入的自行添加，而且需在 bottom 后第一个引入，否则可能出现加载出错问题</span><br><span class="line">......</span><br><span class="line">+ - &lt;script data-pjax src=&quot;/js/calendar.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">+ - &lt;script data-pjax src=&quot;/js/languages.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>在<code>【Blogroot】/themes/Butterfly/source/css/_layout/</code>目录下新建<code>calendar.styl</code>文件，内容如下</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#calendar</span></span><br><span class="line">  <span class="selector-tag">a</span></span><br><span class="line">    <span class="attribute">text-decoration</span> none</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal-head</span></span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">15px</span></span><br><span class="line">  <span class="attribute">position</span> relative</span><br><span class="line">  <span class="attribute">height</span> <span class="number">20px</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">8px</span> <span class="number">6px</span> <span class="number">2px</span> <span class="number">6px</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal-prev</span>,<span class="selector-class">.cal-next</span></span><br><span class="line">  <span class="attribute">position</span> absolute</span><br><span class="line">  <span class="attribute">top</span> <span class="number">9px</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">16px</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">18px</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">3px</span> <span class="number">4px</span></span><br><span class="line">  <span class="attribute">border</span> <span class="number">1px</span> solid transparent</span><br><span class="line">  <span class="attribute">color</span> <span class="number">#333</span></span><br><span class="line">  <span class="attribute">outline</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal-prev</span></span><br><span class="line">  <span class="attribute">left</span> <span class="number">8px</span></span><br><span class="line">  <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">    <span class="attribute">border-right</span> <span class="number">9px</span> solid <span class="number">#333</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal-next</span></span><br><span class="line">  <span class="attribute">right</span> <span class="number">8px</span></span><br><span class="line">  <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">    <span class="attribute">border-left</span> <span class="number">9px</span> solid <span class="number">#333</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal-prev</span><span class="selector-pseudo">:before</span>,<span class="selector-class">.cal-next</span><span class="selector-pseudo">:before</span></span><br><span class="line">  <span class="attribute">content</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attribute">display</span> block</span><br><span class="line">  <span class="attribute">width</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">border-top</span> <span class="number">5px</span> solid transparent</span><br><span class="line">  <span class="attribute">border-bottom</span> <span class="number">5px</span> solid transparent</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal-title</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">100px</span></span><br><span class="line">  <span class="attribute">margin</span> <span class="number">0</span> auto</span><br><span class="line">  <span class="attribute">color</span> <span class="number">#333</span></span><br><span class="line">  <span class="attribute">font</span> bold <span class="number">14px</span>/<span class="number">18px</span> Arial</span><br><span class="line">  <span class="attribute">text-align</span> center</span><br><span class="line">  <span class="selector-tag">a</span></span><br><span class="line">    <span class="attribute">border</span> <span class="number">1px</span> solid transparent</span><br><span class="line">    <span class="attribute">color</span> <span class="number">#9f9f9f</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal</span>,</span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-tag">th</span>,</span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-tag">td</span></span><br><span class="line">  <span class="attribute">border</span> <span class="number">1px</span> solid <span class="number">#d1d1d1</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal</span></span><br><span class="line">  <span class="attribute">display</span>: table</span><br><span class="line">  <span class="attribute">border-collapse</span> separate</span><br><span class="line">  <span class="attribute">border-spacing</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">border-width</span> <span class="number">1px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span></span><br><span class="line">  <span class="attribute">table-layout</span> fixed</span><br><span class="line">  <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">  <span class="attribute">margin</span> <span class="number">0</span></span><br><span class="line">  <span class="selector-tag">th</span></span><br><span class="line">    <span class="attribute">background</span> <span class="number">#9f9f9f</span></span><br><span class="line">    <span class="attribute">color</span> <span class="number">#fff</span></span><br><span class="line">    <span class="attribute">border-width</span> <span class="number">0</span> <span class="number">1px</span> <span class="number">1px</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">font-weight</span> <span class="number">700</span></span><br><span class="line">  <span class="selector-tag">td</span></span><br><span class="line">    <span class="attribute">border-width</span> <span class="number">0</span> <span class="number">1px</span> <span class="number">1px</span> <span class="number">0</span></span><br><span class="line">  <span class="selector-tag">tbody</span></span><br><span class="line">    <span class="selector-tag">a</span></span><br><span class="line">      <span class="attribute">background-color</span> <span class="number">#007acc</span></span><br><span class="line">      <span class="attribute">color</span> <span class="number">#fff</span></span><br><span class="line">      <span class="attribute">display</span> block</span><br><span class="line">      <span class="attribute">font-weight</span> <span class="number">700</span></span><br><span class="line">    <span class="selector-class">.cal-today</span></span><br><span class="line">      <span class="attribute">background-color</span> <span class="number">#66ecfd</span></span><br><span class="line">      <span class="attribute">color</span> <span class="number">#fff</span></span><br><span class="line">  <span class="selector-class">.cal-gray</span></span><br><span class="line">    <span class="attribute">color</span> <span class="number">#bbb8b8</span></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-class">.cal</span> <span class="selector-class">.cal-gray</span></span><br><span class="line">  <span class="attribute">color</span> <span class="number">#505050</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-tag">th</span>,</span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-tag">td</span></span><br><span class="line">  <span class="attribute">font-weight</span> normal</span><br><span class="line">  <span class="attribute">line-height</span> <span class="number">2.5625</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">text-align</span> center</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-class">.cal</span> <span class="selector-class">.cal-foot</span></span><br><span class="line">  <span class="attribute">color</span> <span class="number">#9f9f9f</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-class">.cal-foot</span></span><br><span class="line">  <span class="attribute">color</span> <span class="number">#2ca6cb</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal-title</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.cal-prev</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.cal-next</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-class">.cal-foot</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-class">.cal-foot</span><span class="selector-pseudo">:focus</span>,</span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-tag">tbody</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-tag">tbody</span> <span class="selector-tag">a</span><span class="selector-pseudo">:focus</span></span><br><span class="line">  <span class="attribute">background-color</span> <span class="number">#686868</span></span><br><span class="line">  <span class="attribute">color</span> <span class="number">#fff</span></span><br><span class="line">  <span class="attribute">cursor</span> pointer</span><br></pre></td></tr></table></figure><p>在<code>【Blogroot】/themes/Butterfly/layout/includes/widget/</code>目录下新建<code>card_calendar.pug</code>文件，编辑内容如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if theme.aside.card_calendar.enable</span><br><span class="line">  .card-widget.card-calendar</span><br><span class="line">    .card-content</span><br><span class="line">      .item-headline</span><br><span class="line">        i.fas.fa-calendar</span><br><span class="line">        span= _p(&#x27;日历&#x27;)</span><br><span class="line">      div#calendar.widget</span><br></pre></td></tr></table></figure><p>在<code>【Blogroot】/themes/Butterfly/layout/includes/widget/</code>目录下找到并使用编辑器打开<code>index.pug</code>文件，在你认为合适的位置插入以下内容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if theme.aside.card_calendar</span><br><span class="line">        !=partial(&#x27;includes/widget/card_calendar&#x27;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">          include ./card_post_toc.pug</span><br><span class="line"><span class="addition">+        !=partial(&#x27;includes/widget/card_calendar&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span></span><br><span class="line">        !=partial(&#x27;includes/widget/card_recent_post&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">        !=partial(&#x27;includes/widget/card_ad&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">  else</span><br><span class="line">    //- page</span><br><span class="line">    !=partial(&#x27;includes/widget/card_author&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">    !=partial(&#x27;includes/widget/card_announcement&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"><span class="addition">+    !=partial(&#x27;includes/widget/card_calendar&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span></span><br><span class="line">    !=partial(&#x27;includes/widget/card_top_self&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>回到<code>_config.butterfly.yml</code>配置文件，找到<code>aside:</code>段落，在这段结尾添加相关内容，修改完应如下（calendar 一段，缩进与前部分配置齐平，其相对关系应为 aside 内）</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line"><span class="addition">+  card_calendar:</span></span><br><span class="line"><span class="addition">+    enable: true</span></span><br><span class="line"></span><br><span class="line">## busuanzi count for PV / UV in site</span><br><span class="line">## 訪問人數</span><br><span class="line">busuanzi:</span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>打开<code>_config.yml</code>配置文件，新起一段添加：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">......</span></span><br><span class="line"><span class="attr">calendar:</span></span><br><span class="line">  <span class="attr">single:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">root:</span> <span class="string">calendar/</span></span><br><span class="line"><span class="string">......</span></span><br></pre></td></tr></table></figure><p>三连后日历成功显示</p><h4 id="博客背景弹窗切换"><a href="#博客背景弹窗切换" class="headerlink" title="博客背景弹窗切换"></a>博客背景弹窗切换</h4><p><a target="_blank" href="https://blog.leonus.cn/2022/bg2.html" rel="external nofollow noreferrer noopener">https://blog.leonus.cn/2022/bg2.html</a></p><h4 id="进入离开页面时修改标题"><a href="#进入离开页面时修改标题" class="headerlink" title="进入离开页面时修改标题"></a>进入离开页面时修改标题</h4><p>你可能见过一些网站，当离开网页时，上方标签内标题会变成另一段文字；回到页面后标签内容再次修改，几秒后恢复。</p><p>在<code>【Blogroot】/themes/Butterfly/source/js/</code>目录下随便找个 js 文件打开（也可以自己新建），添加以下内容：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> originTitle = <span class="variable language_">document</span>.<span class="property">title</span>;</span><br><span class="line"><span class="keyword">var</span> titleTime;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;visibilitychange&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">hidden</span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;w(ﾟДﾟ)w 不要走啊！！！ &#x27;</span> + originTitle;</span><br><span class="line">        <span class="keyword">if</span> (titleTime != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="built_in">clearTimeout</span>(titleTime);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;ヾ (^▽^*))) 欢迎回来！ &#x27;</span> + originTitle;</span><br><span class="line">        titleTime = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">title</span> = originTitle;</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>新建 js 的记得在<code>_config.butterfly.yml</code>中<code>inject:</code>部分的<code>bottom:</code>后引入你新建的文件，然后 Hexo 三连即可。</p><h4 id="去掉-Pjax-与某些插件并存时地址栏的后缀"><a href="#去掉-Pjax-与某些插件并存时地址栏的后缀" class="headerlink" title="去掉 Pjax 与某些插件并存时地址栏的后缀"></a>去掉 Pjax 与某些插件并存时地址栏的后缀</h4><p><a target="_blank" href="https://android99.com/2020/12/18/pjax-and-pwa-conflict/" rel="external nofollow noreferrer noopener">https://android99.com/2020/12/18/pjax-and-pwa-conflict/</a></p><p>增加一段 Javascript 代码，用来劫持 Pjax 处理响应的方法。</p><p>把 request 对象中的响应地址修改为请求地址。</p><p>这里用到了 Object.defineProperty 方法，因为 request.responseURL 是只读变量，无法直接修改。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 重定向浏览器地址</span></span><br><span class="line">pjax.<span class="property">site_handleResponse</span> = pjax.<span class="property">handleResponse</span>;</span><br><span class="line">pjax.<span class="property">handleResponse</span> = <span class="keyword">function</span>(<span class="params">responseText, request, href, options</span>) &#123;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(request, <span class="string">&#x27;responseURL&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">value</span>: href</span><br><span class="line">    &#125;);</span><br><span class="line">    pjax.<span class="title function_">site_handleResponse</span>(responseText, request, href, options);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在【Blogroot】&#x2F;source&#x2F;js 目录下创建自定义 js 文件（没有文件夹的自己建一个），将以上内容写入。之后编辑<code>_config.butterfly.yml</code>，增加以下代码到 <code>inject:</code>中<code>bottom:</code>之后：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bottom:</span><br><span class="line">  ...</span><br><span class="line">+ - &lt;script defer type=&quot;text/javascript&quot; src=&quot;/js/【文件名】.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="优化链接"><a href="#优化链接" class="headerlink" title="优化链接"></a>优化链接</h4><p>Hexo 原生情况下文章链接是日期+标题的形式，这样会出现一个问题，一旦修改文章标题，原来的地址就无法访问；若使用汉字标题，复制链接时会非常难看；分级太多，对 SEO 不利。</p><p>而 abbrlink 这个插件就解决了此问题。此插件会给文章按照一定规则生成永久地址，只要文章还在，无论如何修改，原地址均可访问。</p><p>在<code>【Blogroot】</code>目录下打开 Git 执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><p>打开博客根目录下的<code>_config.yml</code>文件，找到 url 处，修改</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## URL</span></span><br><span class="line"><span class="comment">### Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://www.example.com</span></span><br><span class="line"><span class="comment">#permalink: :year/:month/:day/:title/</span></span><br><span class="line"><span class="comment">#permalink_defaults:</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink/</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span> <span class="comment">#support crc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">dec</span>   <span class="comment">#support dec(default) and hex</span></span><br><span class="line"><span class="attr">pretty_urls:</span></span><br><span class="line">  <span class="attr">trailing_index:</span> <span class="literal">true</span> <span class="comment">## Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span></span><br><span class="line">  <span class="attr">trailing_html:</span> <span class="literal">true</span> <span class="comment">## Set to false to remove trailing &#x27;.html&#x27; from permalinks</span></span><br></pre></td></tr></table></figure><p>hexo 三连生效</p><h4 id="自动为外链添加-nofollow-属性"><a href="#自动为外链添加-nofollow-属性" class="headerlink" title="自动为外链添加 nofollow 属性"></a>自动为外链添加 nofollow 属性</h4><p><a target="_blank" href="https://github.com/hexojs/hexo-filter-nofollow" rel="external nofollow noreferrer noopener">https://github.com/hexojs/hexo-filter-nofollow</a></p><p><a target="_blank" href="https://blog.skk.moe/post/hexo-filter-nofollow-joined-hexo-official-plugin/" rel="external nofollow noreferrer noopener">https://blog.skk.moe/post/hexo-filter-nofollow-joined-hexo-official-plugin/</a></p><p>安装</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-filter-nofollow --save</span><br></pre></td></tr></table></figure><p>如果你使用 yarn 作为你的 Hexo 的包管理器，你也可以使用下述命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add hexo-filter-nofollow</span><br></pre></td></tr></table></figure><p>选项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">nofollow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;exclude1.com&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;exclude2.com&#x27;</span></span><br></pre></td></tr></table></figure><p>enable - 是否启用插件，默认值为 true<br>field - 插件的处理范围，默认值为 site，可选 post 或 site<br>post - 仅处理文章内容<br>site - 处理全站所有页面<br>exclude - 域名白名单，不同的子域名视为不同的域名（如 www）<br>exclude1.com 不包括 <a target="_blank" href="http://www.exclude1.com/" rel="external nofollow noreferrer noopener">www.exclude1.com</a> 或 en.exclude1.com</p><h4 id="指定文章不在首页显示"><a href="#指定文章不在首页显示" class="headerlink" title="指定文章不在首页显示"></a>指定文章不在首页显示</h4><p>先前看到张洪 Heo 大佬的方法，感觉不错，可惜若隐藏文章则首页文章数量也会受影响。而下文这个插件可以避免此问题。</p><p>项目地址：<a target="_blank" href="https://github.com/im0o/hexo-generator-index-custom" rel="external nofollow noreferrer noopener">https://github.com/im0o/hexo-generator-index-custom</a></p><ul><li>在官方的首页生成器的基础上添加了使用 top 置顶文章和 hide 隐藏文章的功能。</li><li>hexo-generator-index-custom 可以完全替代官方的 hexojs&#x2F;hexo-generator-index，所以安装之后，先卸载官方的插件，不然会引起一些冲突。</li></ul><p>在【Blogroot】下打开 Git，输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-generator-index  </span><br><span class="line">npm install hexo-generator-index-custom --save</span><br></pre></td></tr></table></figure><p>在<code>_config.butterfly.yml</code>中添加如下配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br><span class="line">  <span class="attr">pagination_dir:</span> <span class="string">page</span></span><br></pre></td></tr></table></figure><p>（所有的配置均与官方首页生成器一样，不必修改。）</p><p>配置完后便可使用。在文章开头的配置中添加<code>sticky</code>或<code>top</code>参数，可以置顶文章。<br>其值可以是<code>true</code>或数字，数字越大，文章排在越前面。在文章开头的配置中添加<code>hide</code>参数，可以隐藏文章。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">date: 2013/7/13 20:46:25</span><br><span class="line">sticky: 100</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">date: 2013/7/13 20:46:25</span><br><span class="line">top: 100</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">date: 2013/7/13 20:46:25</span><br><span class="line">hide: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h4 id="给文章加上密码"><a href="#给文章加上密码" class="headerlink" title="给文章加上密码"></a>给文章加上密码</h4><p>项目地址：<a target="_blank" href="https://github.com/D0n9X1n/hexo-blog-encrypt" rel="external nofollow noreferrer noopener">https://github.com/D0n9X1n/hexo-blog-encrypt</a><br>【快速使用。更多配置详见该项目文档】</p><blockquote><p><del>首先，这是 Hexo 生态圈中 最好的 博客加密插件</del><br>你可能需要写一些私密的博客，通过密码验证的方式让人不能随意浏览。<br>这在 wordpress, emlog 或是其他博客系统中都很容易实现，然而 hexo 除外。<code>:(</code></p></blockquote><p>为了解决这个问题，让我们有请 “hexo-blog-encrypt”.</p><p>在【Blogroot】下打开 Git，输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure><p>然后在文章开头添加：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">date: 2016-03-30 21:18:02</span><br><span class="line">password: hello</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>三连即可生效。高级点可以再添加：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">password: pwd</span><br><span class="line">abstract: 有东西被加密了，请输入密码查看。</span><br><span class="line">message: 您好，这里需要密码。</span><br><span class="line">wrong_pass_message: 抱歉，这个密码看着不太对，请再试试。</span><br><span class="line">wrong_hash_message: 抱歉，这个文章不能被校验，不过您还是能看看解密后的内容。</span><br></pre></td></tr></table></figure><p>将博文头部的<code>password</code>一条删去即取消加密。</p><h4 id="博客加速-更新时弹窗提醒"><a href="#博客加速-更新时弹窗提醒" class="headerlink" title="博客加速&#x2F;更新时弹窗提醒"></a>博客加速&#x2F;更新时弹窗提醒</h4><p><a target="_blank" href="https://colsrch.cn/posts/32c8ba21/" rel="external nofollow noreferrer noopener">https://colsrch.cn/posts/32c8ba21/</a><br><a target="_blank" href="https://akilar.top/posts/8f31c3d0/" rel="external nofollow noreferrer noopener">https://akilar.top/posts/8f31c3d0/</a><br>【快速使用。更多配置详见该项目文档】</p><p><code>hexo-offline-popup</code>是一个 hexo 插件， 它可加速您的 Hexo 网站的加载速度，以及网站内容更新弹窗提示。</p><p>该插件基于停止维护已久的<code>hexo-service-worker</code>插件，并在它的基础上加以改进。</p><p>在<code>【Blogroot】</code>目录下打开 Git 并输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-offline-popup --save</span><br></pre></td></tr></table></figure><p>安装后，运行以下命令激活插件：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate</span><br></pre></td></tr></table></figure><p>如果网站提供的所有内容来自原始服务器，你不需要添加任何配置。只需安装和运行 <code>hexo clean &amp;&amp; hexo generate</code>。如果不是，请在博客根目录的<code>_config.yml</code>中添加以下配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## offline config passed to sw-precache.</span></span><br><span class="line"><span class="attr">service_worker:</span></span><br><span class="line">  <span class="attr">maximumFileSizeToCacheInBytes:</span> <span class="number">5242880</span> <span class="comment">## 缓存的最大文件大小，以字节为单位，此处设置为 3MB。</span></span><br><span class="line">  <span class="attr">staticFileGlobs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/**/*.&#123;js,html,xml,css,png,jpg,gif,svg,webp,eot,ttf,woff,woff2&#125;</span></span><br><span class="line">    <span class="comment">## - public/**/*.&#123;html,xml&#125; #精简版使用这行即可</span></span><br><span class="line">  <span class="comment">## 静态文件合集，如果你的站点使用了例如 webp 格式的文件，请将文件类型添加进去。</span></span><br><span class="line">  <span class="comment">## 注意，此处的文件类型就是会缓存下来的所有文件类型，如果不需要缓存那么多，</span></span><br><span class="line">  <span class="comment">## 而只是想判断网页更新与否，缓存 html 和 xml 即可。</span></span><br><span class="line">  <span class="attr">stripPrefix:</span> <span class="string">public</span></span><br><span class="line">  <span class="attr">verbose:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">runtimeCaching:</span></span><br><span class="line">    <span class="comment">## CDNs - should be cacheFirst, since they should be used specific versions so should not change</span></span><br><span class="line">    <span class="comment">## - urlPattern: /* ## 如果你需要加载 CDN 資源，请配置该选项，如果沒有，可以不配置。</span></span><br><span class="line">    <span class="comment">##   handler: cacheFirst</span></span><br><span class="line">    <span class="comment">##   options:</span></span><br><span class="line">    <span class="comment">##     origin: example.com</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">urlPattern:</span> <span class="string">/*</span></span><br><span class="line">      <span class="attr">handler:</span> <span class="string">cacheFirst</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">origin:</span> <span class="string">cdn.jsdelivr.net</span> <span class="comment">## jsdelivr</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">urlPattern:</span> <span class="string">/*</span></span><br><span class="line">      <span class="attr">handler:</span> <span class="string">cacheFirst</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">origin:</span> <span class="string">unpkg.com</span> <span class="comment">## UNPKG</span></span><br><span class="line">    <span class="comment">## 更多 cdn 可自行参照上述格式进行配置。</span></span><br></pre></td></tr></table></figure><p>若不想再使用 hexo-offline-popup，<font color="red"><strong>不可以直接删除 sw.js 等相关文件</strong></font>，由于 Service Worker 的工作原理，直接卸载会导致客户端永远无法自动获取最新页面。</p><p>解决此问题，可以安装其配套卸载插件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-offline-popup-uninstall</span><br></pre></td></tr></table></figure><p>hexo-offline-popup 暂时先留着，配置文件中相关内容也先不要动。</p><p>执行完并部署后，如果你的浏览器恰好故因为某些原因收不来更新，或是你急切地想要看到更新成果，不妨打开你的网站，Edge 浏览器则按下<code>F12</code>（或右键-&gt;<code>检查</code>）-&gt;<code>顶部+号</code>-&gt;<code>应用程序</code>-&gt;<code>Service Worker</code>，在右侧页面找到<code>注销</code>文字并点击，然后点击<code>顶部+号</code>-&gt;<code>网络</code>，随后 Ctrl+F5 强制刷新页面，等待<code>网络</code>页面中列出加载的文件。随便找一个本地加载而非 CDN 的文件并点击，进入该文件的<code>标头</code>页面，看看<code>请求方法</code>一条后面是否已经没有类似于<code>从 Service Worker 缓存</code>这样的文字，如果没有了或显示除此之外的文字，且进行 F5 刷新或浏览器左上角刷新键刷新后该文件的请求方式仍然不是从 Service Worker，则表明卸载程序生效。</p><p>如果你的客户既没能正常成功获取到更新，你又没办法告知他，那可能会比较棘手。另外，这两个插件（原版插件和 uninstall 插件）需要继续使用一段时间，不可见有效后就卸载（还是因 Service Worker 的缓存原理所致）。</p><h3 id="使用索引"><a href="#使用索引" class="headerlink" title="使用索引"></a>使用索引</h3><h4 id="自定义侧边栏"><a href="#自定义侧边栏" class="headerlink" title="自定义侧边栏"></a>自定义侧边栏</h4><p><a target="_blank" href="https://butterfly.js.org/posts/ea33ab97/" rel="external nofollow noreferrer noopener">https://butterfly.js.org/posts/ea33ab97/</a></p><p>在 Hexo 博客目录中的<code>source/_data</code>（如果没有<code>_data</code>文件夹，请自行创建），创建一个文件<code>widget.yml</code>，填写：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">top:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">class_name:</span></span><br><span class="line">    <span class="attr">id_name:</span></span><br><span class="line">    <span class="attr">name:</span></span><br><span class="line">    <span class="attr">icon:</span></span><br><span class="line">    <span class="attr">html:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">class_name:</span></span><br><span class="line">    <span class="attr">id_name:</span></span><br><span class="line">    <span class="attr">name:</span></span><br><span class="line">    <span class="attr">icon:</span></span><br><span class="line">    <span class="attr">order:</span></span><br><span class="line">    <span class="attr">html:</span></span><br></pre></td></tr></table></figure><p>top: 创建的 widget 会出现在非 sticky 区域（即所有页面都会显示）</p><p>bottom: 创建的 widget 会出现在 sticky 区域（除了文章页都会显示）</p><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>class_name</td><td>所创建的 widget 父类 class 名 （可选）</td></tr><tr><td>id_name</td><td>所创建的 widget 父类 id 名（可选）</td></tr><tr><td>name</td><td>所创建的 widget 标题</td></tr><tr><td>icon</td><td>所创建的 widget 图标</td></tr><tr><td>order</td><td>所创建的 widget 排序 （可选）（简单来讲，就是配置数字来实现排序，如果不配置，则默认为 0。数字越小，排序越靠前。）</td></tr><tr><td>html</td><td>所创建的 widget 相关代码</td></tr></tbody></table><h4 id="标签外挂"><a href="#标签外挂" class="headerlink" title="标签外挂"></a>标签外挂</h4><p><a target="_blank" href="https://butterfly.js.org/posts/4aa8abbe/" rel="external nofollow noreferrer noopener">https://butterfly.js.org/posts/4aa8abbe/</a></p><h5 id="提示块标签"><a href="#提示块标签" class="headerlink" title="提示块标签"></a>提示块标签</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note [class] [icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>名称</th><th>用法</th></tr></thead><tbody><tr><td>class</td><td>【可选】标识，不同的标识有不同的配色，可选 default &#x2F; primary &#x2F; success &#x2F; info &#x2F; warning &#x2F; danger</td></tr><tr><td>no-icon</td><td>【可选】不显示 icon</td></tr><tr><td>style</td><td>【可选】可以覆盖配置中的 style，可选 simple&#x2F;modern&#x2F;flat&#x2F;disabled</td></tr></tbody></table><p>备注：<code>[class]</code>不填写则为默认灰色，<code>[icon]</code>处不填写则使用默认 icon。</p><p>例：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note info simple %&#125;</span><br><span class="line">info 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; simple %&#125;</span><br><span class="line">你是刷 Visa 还是 UnionPay</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; simple %&#125;</span><br><span class="line">前端最讨厌的浏览器</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>本文可能不定时更新。</p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者:</span> <span class="post-copyright-info"><a href="https://blog.sakurink.eu.org">R҉anm⌬</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接:</span> <span class="post-copyright-info"><a href="https://blog.sakurink.eu.org/posts/1477501590/">https://blog.sakurink.eu.org/posts/1477501590/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.sakurink.eu.org" target="_blank">雨梦清欢</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/web/">web</a><a class="post-meta__tags" href="/tags/Hexo/">Hexo</a><a class="post-meta__tags" href="/tags/%E4%BB%A3%E7%A0%81/">代码</a></div><div class="post-share"><div class="social-share" data-image="//cdncf-assets.sakurink.eu.org/blogassets/img/randimg/3.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://npm.elemecdn.com/butterfly-extsrc@latest/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://npm.elemecdn.com/butterfly-extsrc@latest/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/2845603730/" title="使用 Cloudflare 反代网站页面"><img class="cover" src="//cdncf-assets.sakurink.eu.org/blogassets/img/randimg/6.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">使用 Cloudflare 反代网站页面</div></div><div class="info-2"><div class="info-item-1">【更新】Vercel 直接绑定域名破案了，直接在 vercel 绑定域名也是可以的。先前我未能成功是因为我域名的SSL/TLS 加密模式没配置好。在 CF 里把此处改为完全即可解决“重定向次数过多”的问题。这样一来，登录后台的问题也解决了。 原因是当网站开启了 CloudFlare 服务，用户访问网站时实际访问的是离用户比较近的服务器，Cloudflare...</div></div></div></a><a class="pagination-related" href="/posts/1412730729/" title="有关地球 Online 和生物的系统更新"><img class="cover" src="//cdncf-assets.sakurink.eu.org/blogassets/img/randimg/9.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">有关地球 Online 和生物的系统更新</div></div><div class="info-2"><div class="info-item-1">日本不顾国际舆论乱排核污水这档事，必定会将其钉在人类的耻辱柱上</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/440783934/" title="Hexo 插件及主题的更新"><img class="cover" src="//cdncf-assets.sakurink.eu.org/blogassets/img/randimg/4.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-09</div><div class="info-item-2">Hexo 插件及主题的更新</div></div><div class="info-2"><div class="info-item-1">简单记录更新 Hexo 及插件、主题的过程</div></div></div></a><a class="pagination-related" href="/posts/2127331844/" title="开销几乎为零的静态博客：Hexo 折腾记录"><img class="cover" src="//cdncf-assets.sakurink.eu.org/blogassets/img/randimg/3.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-19</div><div class="info-item-2">开销几乎为零的静态博客：Hexo 折腾记录</div></div><div class="info-2"><div class="info-item-1">记录 Hexo 博客的搭建过程</div></div></div></a><a class="pagination-related" href="/posts/912248532/" title="Cloudflare 反代 jsDelivr"><img class="cover" src="//cdncf-assets.sakurink.eu.org/blogassets/img/randimg/10.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-23</div><div class="info-item-2">Cloudflare 反代 jsDelivr</div></div><div class="info-2"><div class="info-item-1">背景： 2021 年 12 月 20 日，jsDelivr 团队主要负责人 Dmitriy Akulov 在 官方 GitHub 仓库发布说明。jsDelivr 的 ICP 被吊销，短时间内，无法也不会提供基于国内节点的托管服务。现在 jsDelivr 国内线路也是从国外绕的，这令在中国大陆地区的速度相较于此前慢了很多。 由于 jsDelivr...</div></div></div></a><a class="pagination-related" href="/posts/3639312373/" title="Electron初识：将web页面变成桌面应用程序"><img class="cover" src="//cdncf-assets.sakurink.eu.org/blogassets/img/randimg/1.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-02</div><div class="info-item-2">Electron初识：将web页面变成桌面应用程序</div></div><div class="info-2"><div class="info-item-1">前排提示：使用这东西需要有一定的耐心，配置出故障是正常的。本文虽不是面向小白，但自认为比较详细（恐但凡疏忽便再难成功）。 之前使用过一个名为 Nativefier 的工具，它基于 Electronjs，可以将网页打包为桌面客户端，颇有意思。玩久了感觉命令写来有点琐碎，故直接尝试...</div></div></div></a><a class="pagination-related" href="/posts/2223589302/" title="Vercel 无服务器部署 php 程序"><img class="cover" src="//cdncf-assets.sakurink.eu.org/blogassets/img/randimg/1.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-26</div><div class="info-item-2">Vercel 无服务器部署 php 程序</div></div><div class="info-2"><div class="info-item-1">写在前面vercel 规定了程序没有写入权限，唯一拥有写入权限的只有/tmp这个临时目录。考虑用这种方法的，大多是“实验”或 api 等小 php 项目的（特地弄个服务器不大划算？）。 你可能见过有人用这样的操作部署了 Typecho 等程序，那是另编写了类似于config.inc.php之类的配置文件实现的——不过按照这个思路实现安装 WordPress 等亦非不可。...</div></div></div></a><a class="pagination-related" href="/posts/4242742085/" title="使用 Cloudflare Pages 托管静态网站"><img class="cover" src="//cdncf-assets.sakurink.eu.org/blogassets/img/randimg/1.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-08</div><div class="info-item-2">使用 Cloudflare Pages 托管静态网站</div></div><div class="info-2"><div class="info-item-1">这个站点是部署在 GitHub Pages 上的，如你所见，在某些情况下访问速度令人不敢恭维。之前某次因为未知原因 Cloudflare 又一次在国内受到“特别关照”，不得已关了一些功能。最近感觉站点访问速度出奇地慢，换了 CDN 也未见明显好转。 一开始在选择部署平台时便对 CF Pages...</div></div></div></a></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">R҉anm⌬</div><div class="author-info-description">学习记录与分享，本网站随缘更新。</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">83</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">34</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="https://sakurink.eu.org/" target="_blank"><i class="fas fa-feather-alt"></i></a><a class="social-icon" href="https://blog.sakurink.eu.org/atom.xml" target="_blank"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">站点速度较慢，请等待全部加载完成后再进行操作，体验更佳。如果发现页面加载故障，请善用刷新。本站所有内容仅供参考，请谨慎使用，不得将其用于违规行为，否则后果自负。【当前域名请使用"https://"访问，否则大概率要被重置连接】</div></div><div class="card-widget card-ctools" id="card-ctools"><div class="item-headline"><i class="fas fa-tools"></i><span>控制器</span></div><div class="item-content"><span class="button-bfblue" onclick="location.reload()">刷新页面</span><br><span class="button-bfblue" onclick="location.replace(location.href)">强制刷新</span><br><span class="button-bfblue" onclick="openPanel()">控制面板</span></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E4%B8%BB%E9%A2%98"><span class="toc-number">2.</span> <span class="toc-text">安装主题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Butterfly-%E8%87%AA%E5%AE%9A%E4%B9%89"><span class="toc-number">3.</span> <span class="toc-text">Butterfly 自定义</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E4%BF%AE%E6%94%B9%E7%B4%A2%E5%BC%95"><span class="toc-number">3.1.</span> <span class="toc-text">常用基础配置修改索引</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%BC%E8%88%AA%E4%B8%8E%E9%A1%B5%E9%9D%A2"><span class="toc-number">3.1.1.</span> <span class="toc-text">自定义导航与页面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E8%87%AA%E5%AE%9A%E4%B9%89%E8%83%8C%E6%99%AF"><span class="toc-number">3.1.2.</span> <span class="toc-text">简单自定义背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E9%A1%B5%E6%A0%87%E9%A2%98"><span class="toc-number">3.1.3.</span> <span class="toc-text">主页标题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pjax"><span class="toc-number">3.1.4.</span> <span class="toc-text">Pjax</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90"><span class="toc-number">3.1.5.</span> <span class="toc-text">引入外部资源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E8%BF%87%E6%9C%9F%E6%8F%90%E9%86%92"><span class="toc-number">3.1.6.</span> <span class="toc-text">文章过期提醒</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E4%BF%AE%E6%94%B9%E7%B4%A2%E5%BC%95"><span class="toc-number">3.2.</span> <span class="toc-text">进阶修改索引</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E7%BE%8E%E5%8C%96%EF%BC%88%E5%8F%82%E8%80%83%EF%BC%89"><span class="toc-number">3.2.1.</span> <span class="toc-text">全局美化（参考）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E8%83%8C%E6%99%AF%E4%BD%BF%E7%94%A8%E4%B8%80%E5%9B%BE%E6%B5%81"><span class="toc-number">3.2.2.</span> <span class="toc-text">博客背景使用一图流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E5%9B%BE%E7%89%87%E5%B0%81%E9%9D%A2"><span class="toc-number">3.2.3.</span> <span class="toc-text">随机图片封面</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E5%A1%AB%E5%86%99"><span class="toc-number">3.2.3.1.</span> <span class="toc-text">直接填写</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-js-%E6%94%AF%E6%8C%81%E9%9A%8F%E6%9C%BA%E5%9B%BE%E7%89%87-api"><span class="toc-number">3.2.3.2.</span> <span class="toc-text">使用 js 支持随机图片 api</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%B1%E8%89%B2%E6%A8%A1%E5%BC%8F%E6%B5%81%E6%98%9F%E7%89%B9%E6%95%88"><span class="toc-number">3.2.4.</span> <span class="toc-text">深色模式流星特效</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#live2D"><span class="toc-number">3.2.5.</span> <span class="toc-text">live2D</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%B7%A6%E4%B8%8B%E8%A7%92-APlayer"><span class="toc-number">3.2.6.</span> <span class="toc-text">全局左下角 APlayer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%A1%E7%AC%BA%E6%A0%B7%E5%BC%8F%E7%95%99%E8%A8%80%E6%9D%BF"><span class="toc-number">3.2.7.</span> <span class="toc-text">信笺样式留言板</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5%E8%AE%BE%E7%BD%AE%E4%B8%8E%E7%BE%8E%E5%8C%96"><span class="toc-number">3.2.8.</span> <span class="toc-text">友情链接设置与美化</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE"><span class="toc-number">3.2.8.1.</span> <span class="toc-text">设置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BE%8E%E5%8C%96"><span class="toc-number">3.2.8.2.</span> <span class="toc-text">美化</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BD%E5%8A%A8%E7%94%BB"><span class="toc-number">3.2.9.</span> <span class="toc-text">加载动画</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%BD%BF%E8%BD%AE"><span class="toc-number">3.2.9.1.</span> <span class="toc-text">齿轮</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%83%B6%E5%9B%8A%E6%A0%B7%E5%BC%8F%E5%8A%A0%E8%BD%BD%E8%BF%9B%E5%BA%A6%E6%9D%A1"><span class="toc-number">3.2.9.2.</span> <span class="toc-text">胶囊样式加载进度条</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E8%84%9A%E7%94%B5%E5%AD%90%E9%92%9F%E4%B8%8E-GitHub-%E5%BE%BD%E6%A0%87"><span class="toc-number">3.2.10.</span> <span class="toc-text">页脚电子钟与 GitHub 徽标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RSS"><span class="toc-number">3.2.11.</span> <span class="toc-text">RSS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%A0%8F%E6%97%A5%E5%8E%86"><span class="toc-number">3.2.12.</span> <span class="toc-text">侧边栏日历</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E8%83%8C%E6%99%AF%E5%BC%B9%E7%AA%97%E5%88%87%E6%8D%A2"><span class="toc-number">3.2.13.</span> <span class="toc-text">博客背景弹窗切换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E5%85%A5%E7%A6%BB%E5%BC%80%E9%A1%B5%E9%9D%A2%E6%97%B6%E4%BF%AE%E6%94%B9%E6%A0%87%E9%A2%98"><span class="toc-number">3.2.14.</span> <span class="toc-text">进入离开页面时修改标题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%BB%E6%8E%89-Pjax-%E4%B8%8E%E6%9F%90%E4%BA%9B%E6%8F%92%E4%BB%B6%E5%B9%B6%E5%AD%98%E6%97%B6%E5%9C%B0%E5%9D%80%E6%A0%8F%E7%9A%84%E5%90%8E%E7%BC%80"><span class="toc-number">3.2.15.</span> <span class="toc-text">去掉 Pjax 与某些插件并存时地址栏的后缀</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E9%93%BE%E6%8E%A5"><span class="toc-number">3.2.16.</span> <span class="toc-text">优化链接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E4%B8%BA%E5%A4%96%E9%93%BE%E6%B7%BB%E5%8A%A0-nofollow-%E5%B1%9E%E6%80%A7"><span class="toc-number">3.2.17.</span> <span class="toc-text">自动为外链添加 nofollow 属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E5%AE%9A%E6%96%87%E7%AB%A0%E4%B8%8D%E5%9C%A8%E9%A6%96%E9%A1%B5%E6%98%BE%E7%A4%BA"><span class="toc-number">3.2.18.</span> <span class="toc-text">指定文章不在首页显示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%99%E6%96%87%E7%AB%A0%E5%8A%A0%E4%B8%8A%E5%AF%86%E7%A0%81"><span class="toc-number">3.2.19.</span> <span class="toc-text">给文章加上密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E5%8A%A0%E9%80%9F-%E6%9B%B4%E6%96%B0%E6%97%B6%E5%BC%B9%E7%AA%97%E6%8F%90%E9%86%92"><span class="toc-number">3.2.20.</span> <span class="toc-text">博客加速&#x2F;更新时弹窗提醒</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%B4%A2%E5%BC%95"><span class="toc-number">3.3.</span> <span class="toc-text">使用索引</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BE%A7%E8%BE%B9%E6%A0%8F"><span class="toc-number">3.3.1.</span> <span class="toc-text">自定义侧边栏</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E5%A4%96%E6%8C%82"><span class="toc-number">3.3.2.</span> <span class="toc-text">标签外挂</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8F%90%E7%A4%BA%E5%9D%97%E6%A0%87%E7%AD%BE"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">提示块标签</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background:0 0"><div id="footer-wrap"></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="settingContainer"><div class="sphide" id="settingMask"></div><div class="sphide" id="settingPanel"><div id="settingTopBar"><div class="settingTopBarLeft"><button class="hide" id="settingBackToMain2"><i class="fas fa-chevron-left"></i>返回</button><h3 class="sp-title">控制面板</h3></div><div class="settingTopBarRight"><button class="settingPanelClose" id="settingPanelClose" onclick="closePanel()">✖</button></div></div><div id="settingMain"><div class="fade fade-in" id="settingTabs"><button id="settings-general"><i class="fas fa-layer-group"></i>通用</button><button id="settings-fonts"><i class="fas fa-font"></i>字体</button><button id="settings-background"><i class="far fa-image"></i>背景</button><button id="settings-test"><i class="fas fa-code"></i>测试</button><button id="settings-about"><i class="far fa-star"></i>关于</button><button id="settings-info"><i class="fas fa-circle-info"></i>系统</button></div><div class="hide fade fade-out" id="settingItems"><div id="settings-general-Content"><h3>主题</h3><div class="settingSwitchCheckBox"><div class="settingSwitchCheckBoxMain"><div class="content-text">Aplayer开关</div><input id="aplayerOnOff" onclick="aplayerState()" type="checkbox"></div><div class="settingSwitchCheckBoxMain"><div class="content-text">帧率检测</div><input id="fpsDisplay" onclick="fpsState()" type="checkbox"></div><div class="settingSwitchCheckBoxMain"><div class="content-text">背景流星（夜间模式）</div><input id="universeEffect" onclick="universeState()" type="checkbox"></div><div class="settingSwitchCheckBoxMain"><div class="content-text">顶部显隐（首页）</div><input id="indexImgDisplay" onclick="indexImgState()" type="checkbox"></div><div class="settingSwitchCheckBoxMain"><div class="content-text">测试按钮【供调试使用】</div><input id="variable1" onclick="switchState1()" type="checkbox"></div></div><hr><div class="settingRadioGroup"><div class="settingRadioGroupMain"><div class="content-text">春节灯笼（PC）</div><div class="settingRadioGroupOption"><input id="lanternState1" onclick="removeLantern()" value="close" name="lanternDisplay" type="radio"><label for="lanternState1">关</label><input id="lanternState2" onclick="lanternLeft()" value="left" name="lanternDisplay" type="radio"><label for="lanternState2">左</label><input id="lanternState3" onclick="lanternRight()" value="right" name="lanternDisplay" type="radio"><label for="lanternState3">右</label></div></div><div class="settingRadioGroupMain"><div class="content-text">内容区域背景</div><div class="settingRadioGroupOption"><input id="contentInnerBgOpState1" onclick="contentInnerBgOp0()" value="op0" name="contentInnerBgOpDisplay" type="radio"><label for="contentInnerBgOpState1">透明</label><input id="contentInnerBgOpState2" onclick="contentInnerBgOp85()" value="op85" name="contentInnerBgOpDisplay" type="radio"><label for="contentInnerBgOpState2">85%</label><input id="contentInnerBgOpState3" onclick="contentInnerBgOp100()" value="op100" name="contentInnerBgOpDisplay" type="radio"><label for="contentInnerBgOpState3">不透明</label></div></div><div class="settingRadioGroupMain"><div class="content-text">测试 Radio【供调试使用】</div><div class="settingRadioGroupOption"><input id="radio1-name1" onclick="radio1Func1()" value="11111" name="drone" type="radio"><label for="radio1-name1">Huey</label><input id="radio1-name2" onclick="radio1Func2()" value="22222" name="drone" type="radio"><label for="radio1-name2">Dewey</label><input id="radio3-name3" onclick="radio1Func3()" value="33333" name="drone" type="radio"><label for="radio3-name3">Louie</label></div></div></div><hr><h3>清理</h3><div><button id="resetSwitches">还原所有设置开关</button><br><button id="resetRadio">还原 Radio</button><button id="resetRadio-drone">还原 Radio 测1</button><button id="resetRadio-drone2">还原 Radio 测2</button></div><hr><h3>控制</h3><div><button id="clearSessionStorage" style="display:none">清除 SessionStorage</button><button id="clearLocalStorage" style="display:none">清除 LocalStorage（重置设置）</button><button id="clearCookies">清除 Cookies</button><button id="clearServiceWorkers" style="display:none">清除 Service Workers 缓存</button><button id="clearCaches">清除缓存</button><br><button onclick="location.reload()">刷新页面</button><button onclick="location.replace(location.href)">强制刷新</button><br><button style="display:none" onclick="closePanel()">关闭控制台</button></div></div><div id="settings-fonts-Content"><p><button id="resetFont" style="display:flex;width:100%;align-items:center;justify-content:center"><i class="fa-solid fa-arrows-rotate"></i>恢复默认字体</button></p><h3>字体</h3><div class="settingFontSwitchStyle"><button onclick='setFont("LXGW Wenkai Screen")' style="font-family:'LXGW Wenkai Screen'!important">霞鹜文楷</button><button onclick='setFont("Source Han Serif SC Medium")' style="font-family:'Source Han Serif SC Medium'!important">思源宋体</button><button onclick='setFont("Source Han Sans CN Medium")' style="font-family:'Source Han Sans CN Medium'!important">思源黑体500</button><button onclick='setFont("Source Han Sans CN Normal")' style="font-family:'Source Han Sans CN Normal'!important">思源黑体400</button><button onclick='setFont("JiangChengYuanTi")' style="font-family:JiangChengYuanTi!important">江城圆体400</button><button onclick='setFont("main")' style="font-family:-apple-system,IBM Plex Mono,monospace,'微软雅黑',sans-serif">系统默认</button></div></div><div id="settings-background-Content"><div id="article-container"><p><button id="resetBg" style="display:flex;width:100%;align-items:center;justify-content:center"><i class="fa-solid fa-arrows-rotate"></i>恢复默认背景</button></p><h3 id="图片（宽屏）"><a class="headerlink" title="图片（宽屏）" href="#图片（宽屏）"></a>图片（宽屏）</h3><div class="bgbox"><a class="imgbox" onclick='changeBg("url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-pc-1.jpg)")' style="background-image:url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-pc-1.jpg)" rel="noopener external nofollow" href="javascript:;"></a><a class="imgbox" onclick='changeBg("url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-pc-2.jpg)")' style="background-image:url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-pc-2.jpg)" rel="noopener external nofollow" href="javascript:;"></a><a class="imgbox" onclick='changeBg("url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-pc-3.jpg)")' style="background-image:url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-pc-3.jpg)" rel="noopener external nofollow" href="javascript:;"></a><a class="imgbox" onclick='changeBg("url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-pc-4.jpg)")' style="background-image:url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-pc-4.jpg)" rel="noopener external nofollow" href="javascript:;"></a><a class="imgbox" onclick='changeBg("url(https://cdn-hw-static2.shanhutech.cn/bizhi/staticwp/202307/8fcf913bba1a703714e2dc7cd1bdba3e--2133436291.jpg)")' style="background-image:url(https://cdn-hw-static2.shanhutech.cn/bizhi/staticwp/202307/8fcf913bba1a703714e2dc7cd1bdba3e--2133436291.jpg)" rel="noopener external nofollow" href="javascript:;"></a><a class="imgbox" onclick='changeBg("url(https://cdn-hw-static2.shanhutech.cn/bizhi/staticwp/202407/18eb61a58120b76130803b26246d83f7--208058497.jpg)")' style="background-image:url(https://cdn-hw-static2.shanhutech.cn/bizhi/staticwp/202407/18eb61a58120b76130803b26246d83f7--208058497.jpg)" rel="noopener external nofollow" href="javascript:;"></a><a class="imgbox" onclick='changeBg("url(https://cdn-hw-static2.shanhutech.cn/bizhi/staticwp/202408/4d78b8c4a3a3547c0e3b21b85401b687--1602406427.jpg)")' style="background-image:url(https://cdn-hw-static2.shanhutech.cn/bizhi/staticwp/202408/4d78b8c4a3a3547c0e3b21b85401b687--1602406427.jpg)" rel="noopener external nofollow" href="javascript:;"></a><a class="imgbox" onclick='changeBg("url(https://cdn-hw-static2.shanhutech.cn/bizhi/staticwp/202405/4a913a3a8d36b0fd2dd28de7cb9f7c08--2822596592.jpg)")' style="background-image:url(https://cdn-hw-static2.shanhutech.cn/bizhi/staticwp/202405/4a913a3a8d36b0fd2dd28de7cb9f7c08--2822596592.jpg)" rel="noopener external nofollow" href="javascript:;"></a></div><h3 id="图片（移动端）"><a class="headerlink" title="图片（移动端）" href="#图片（移动端）"></a>图片（移动端）</h3><div class="bgbox"><a class="imgbox" onclick='changeBg("url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-m-1.jpg)")' style="background-image:url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-m-1.jpg)" rel="noopener external nofollow" href="javascript:;"></a><a class="imgbox" onclick='changeBg("url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-m-2.jpg)")' style="background-image:url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-m-2.jpg)" rel="noopener external nofollow" href="javascript:;"></a><a class="imgbox" onclick='changeBg("url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-m-3.jpg)")' style="background-image:url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-m-3.jpg)" rel="noopener external nofollow" href="javascript:;"></a><a class="imgbox" onclick='changeBg("url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-m-4.jpg)")' style="background-image:url(https://cdncf-assets.sakurink.eu.org/blogassets/img/bg/bg-m-4.jpg)" rel="noopener external nofollow" href="javascript:;"></a></div><h3 id="图片（随机-宽屏）"><a class="headerlink" title="图片（随机-宽屏）" href="#图片（随机-宽屏）"></a>图片（随机-宽屏）</h3><div class="bgbox"><a class="imgbox" onclick='changeBg("url(https://dailybing.com/api/v1)")' style="background-image:url(https://dailybing.com/api/v1)" rel="noopener external nofollow" href="javascript:;"></a><a class="imgbox" onclick='changeBg("url(https://t.mwm.moe/pc)")' style="background-image:url(https://t.mwm.moe/pc)" rel="noopener external nofollow" href="javascript:;"></a><a class="imgbox" onclick='changeBg("url(https://api.vvhan.com/api/wallpaper/acg)")' style="background-image:url(https://api.vvhan.com/api/wallpaper/acg)" rel="noopener external nofollow" href="javascript:;"></a><a class="imgbox" onclick='changeBg("url(https://www.dmoe.cc/random.php)")' style="background-image:url(https://www.dmoe.cc/random.php)" rel="noopener external nofollow" href="javascript:;"></a></div><h3 id="渐变色"><a class="headerlink" title="渐变色" href="#渐变色"></a>渐变色</h3><div class="bgbox"><a class="colorbox" onclick='changeBg("linear-gradient(to right, #eecda3, #ef629f)")' style="background:linear-gradient(to right,#eecda3,#ef629f)" rel="noopener external nofollow" href="javascript:;"></a><a class="colorbox" onclick='changeBg("linear-gradient(to right, #e4afcb 0%, #b8cbb8 0%, #b8cbb8 0%, #e2c58b 30%, #c2ce9c 64%, #7edbdc 100%)")' style="background:linear-gradient(to right,#e4afcb 0,#b8cbb8 0,#b8cbb8 0,#e2c58b 30%,#c2ce9c 64%,#7edbdc 100%)" rel="noopener external nofollow" href="javascript:;"></a><a class="colorbox" onclick='changeBg("linear-gradient(to top, #30cfd0 0%, #330867 100%)")' style="background:linear-gradient(to top,#30cfd0 0,#330867 100%)" rel="noopener external nofollow" href="javascript:;"></a><a class="colorbox" onclick='changeBg("linear-gradient(to top, #a18cd1 0%, #fbc2eb 100%)")' style="background:linear-gradient(to top,#a18cd1 0,#fbc2eb 100%)" rel="noopener external nofollow" href="javascript:;"></a><a class="colorbox" onclick='changeBg("linear-gradient(to right, #EAECC6, #2BC0E4)")' style="background:linear-gradient(to right,#eaecc6,#2bc0e4)" rel="noopener external nofollow" href="javascript:;"></a><a class="colorbox" onclick='changeBg("linear-gradient(60deg, #ffd7e4 0%, #c8f1ff 100%)")' style="background:linear-gradient(60deg,#ffd7e4 0,#c8f1ff 100%)" rel="noopener external nofollow" href="javascript:;"></a></div><h3 id="纯色"><a class="headerlink" title="纯色" href="#纯色"></a>纯色</h3><div class="bgbox"><a class="colorbox" onclick='changeBg("#eef7f2")' style="background:#eef7f2" rel="noopener external nofollow" href="javascript:;"></a><a class="colorbox" onclick='changeBg("#7D9D9C")' style="background:#7d9d9c" rel="noopener external nofollow" href="javascript:;"></a><a class="colorbox" onclick='changeBg("#C7EDCC")' style="background:#c7edcc" rel="noopener external nofollow" href="javascript:;"></a><a class="colorbox" onclick='changeBg("#E3DCCF")' style="background:#e3dccf" rel="noopener external nofollow" href="javascript:;"></a><a class="colorbox" onclick='changeBg("#0F69B8")' style="background:#0f69b8" rel="noopener external nofollow" href="javascript:;"></a><a class="colorbox" onclick='changeBg("#F0AABE")' style="background:#f0aabe" rel="noopener external nofollow" href="javascript:;"></a></div></div></div><div id="settings-test-Content"><h2>什么是Lorem Ipsum?</h2><p>Lorem Ipsum，也称乱数假文或者哑元文本， 是印刷及排版领域所常用的虚拟文字。由于曾经一台匿名的打印机刻意打乱了一盒印刷字体从而造出一本字体样品书，Lorem Ipsum从西元15世纪起就被作为此领域的标准文本使用。它不仅延续了五个世纪，还通过了电子排版的挑战，其雏形却依然保存至今。在1960年代，”Leatraset”公司发布了印刷着Lorem Ipsum段落的纸张，从而广泛普及了它的使用。最近，计算机桌面出版软件”Aldus PageMaker”也通过同样的方式使Lorem Ipsum落入大众的视野。</p><h2>字母测试</h2><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas justo elit, posuere ac vestibulum at, hendrerit sed lectus. Aliquam hendrerit faucibus odio sed dignissim. Morbi nec nisl non mi tincidunt faucibus id vitae lectus. Etiam scelerisque nisl velit, sed euismod risus congue nec. Quisque hendrerit tortor eu arcu posuere, eu mattis purus egestas. Nulla tincidunt aliquet magna ac scelerisque. Suspendisse sed orci iaculis, elementum elit in, laoreet mi. Praesent mauris lectus, ultricies nec quam sed, pretium tristique diam. Aenean vitae vulputate dui, et elementum erat. Donec eros dui, porta et ipsum id, mattis dapibus turpis. Praesent vel nisi vitae mi faucibus sagittis id eu tortor. Nam dignissim dolor nec odio fringilla vulputate. Morbi vehicula elit at bibendum finibus. Nullam at enim diam. In consectetur urna sit amet ipsum euismod suscipit. Donec nec finibus eros.</p></div><div id="settings-about-Content"><div style="display:flex;justify-content:center;align-items:center;text-align:center"><div class="highlighter-green" style="display:inline-block;color:#fff;font-weight:700;font-style:italic;text-shadow:1px 1px 5px #000"><b>Sakurink Control Panel</b></div></div><br><div>Dev version</div></div><div id="settings-info-Content"><h3>系统信息</h3><p><b>UserAgent-></b><span id="userAgent"></span></p><p><b>Language-></b><span id="language"></span></p><p><b>Platform-></b><span id="platform"></span></p><p><b>MaxTouchPoints-></b><span id="maxTouchPoints"></span></p><p><b>Browser-></b><span id="browserName"></span></p><p><b>OSName-></b><span id="osName"></span></p><br><h3>Chromium</h3><p><b>UserAgentData.brands-></b><span id="userAgentDataBrands"></span></p><p><b>UserAgentData.mobile-></b><span id="userAgentDataMobile"></span></p><p><b>UserAgentData.Platform-></b><span id="userAgentDataPlatform"></span></p></div></div><hr><div class="fade fade-in" id="settingWidget"><div class="sp-cal-card"><div class="sp-cal-header"><div><i class="fas fa-calendar-alt"></i><span id="sp-cal-monthYear"></span></div><button class="sp-cal-button" id="sp-cal-prevMonth">上个月</button><button class="sp-cal-button" id="sp-cal-nextMonth">下个月</button><button class="sp-cal-button" id="sp-cal-today">回到今日</button></div><div class="sp-calendar" id="sp-cal-calendar"><div class="sp-cal-days-of-week"><div class="sp-cal-day">一</div><div class="sp-cal-day">二</div><div class="sp-cal-day">三</div><div class="sp-cal-day">四</div><div class="sp-cal-day">五</div><div class="sp-cal-day">六</div><div class="sp-cal-day">日</div></div></div></div></div></div><div id="settingBottomBar"><button id="settingScrollToTop"><i class="fas fa-arrow-up"></i>返回顶部</button><button onclick="clearLocalStorage()"><i class="fas fa-arrows-rotate"></i>还原设置</button><button id="settingFullScreen"><i class="fas fa-expand"></i>全屏</button><button id="menu-darkmode"><i class="fas fa-moon"></i>昼夜切换</button></div></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://npm.elemecdn.com/@fancyapps/ui@latest/dist/fancybox/fancybox.umd.js"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js"></script><div class="js-pjax"><script>(async()=>{window.katex_js_css||(window.katex_js_css=!0,await btf.getCSS("https://npm.elemecdn.com/katex@latest/dist/katex.min.css"),await btf.getScript("https://npm.elemecdn.com/katex@latest/dist/contrib/copy-tex.min.js")),document.querySelectorAll("#article-container .katex").forEach((t=>t.classList.add("katex-show")))})()</script><script>(()=>{let e=window.walineFn||null;const t="shuoshuo"===GLOBAL_CONFIG_SITE.pageType,n={reaction:!1,search:!1},i=(e,i=document,a=window.location.pathname)=>{const l=e({el:i.querySelector("#waline-wrap"),serverURL:"https://apivc-waline.sakurink.eu.org",pageview:!1,dark:'html[data-theme="dark"]',comment:!1,...n,path:t?a:n&&n.path||a});t&&(window.shuoshuoComment.destroyWaline=()=>{l.destroy(),i.children.length&&(i.innerHTML="",i.classList.add("no-comment"))})},a=(t,n)=>{e?i(e,t,n):btf.getCSS("https://fastly.jsdelivr.net/npm/@waline/client@latest/dist/waline.min.css").then((()=>import("https://fastly.jsdelivr.net/npm/@waline/client@latest/dist/waline.umd.min.js"))).then((({init:a})=>{e=a||Waline.init,i(e,t,n),window.walineFn=e}))};t?window.shuoshuoComment={loadComment:a}:btf.loadComment(document.getElementById("waline-wrap"),a)})()</script></div><script defer src="/js/reurl.js"></script><script defer data-pjax src="/js/sakurink.js"></script><canvas id="universe"></canvas><script defer data-pjax src="/js/universe.js"></script><div th:fragment="lantern" id="lantern" style="display:none"><div class="lantern-box-1"><div class="lantern-main"><div class="lantern-lift"></div><div class="lantern-a"><div class="lantern-b"><div class="lantern-t">节</div></div></div><div class="lantern-spike lantern-spike-a"><div class="lantern-spike-c"></div><div class="lantern-spike-b"></div></div></div></div><div class="lantern-box-2"><div class="lantern-main"><div class="lantern-lift"></div><div class="lantern-a"><div class="lantern-b"><div class="lantern-t">春</div></div></div><div class="lantern-spike lantern-spike-a"><div class="lantern-spike-c"></div><div class="lantern-spike-b"></div></div></div></div></div><script defer data-pjax src="/js/consolex.js"></script><meting-js class="aplayerBgMusic" server="netease" type="playlist" id="8735348027" fixed="true" mini="true" volume="0.2" listfolded="true" preload="none" autoplay muted></meting-js><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css"><script defer src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script defer src="/js/Meting-sr.min.js"></script><script defer id="fluttering_ribbon" mobile="true" src="https://npm.elemecdn.com/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://npm.elemecdn.com/pjax@latest/pjax.min.js"></script><script>(()=>{window.pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"],cacheBust:!1,analytics:!1,scrollRestoration:!1});const e=e=>{e&&Object.values(e).forEach((e=>e()))};document.addEventListener("pjax:send",(()=>{btf.removeGlobalFnEvent("pjaxSendOnce"),btf.removeGlobalFnEvent("themeChange");const t=document.body.classList;t.contains("read-mode")&&t.remove("read-mode"),e(window.globalFn.pjaxSend)})),document.addEventListener("pjax:complete",(()=>{btf.removeGlobalFnEvent("pjaxCompleteOnce"),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),n=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(n)),e.parentNode.replaceChild(t,e)})),e(window.globalFn.pjaxComplete)})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&pjax.loadUrl("/404.html")}))})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><script data-pjax>function butterfly_footer_beautify_injector_config(){var t=document.getElementById("footer-wrap");console.log("已挂载butterfly_footer_beautify"),t.insertAdjacentHTML("beforeend",'<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo" title=""><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题为Butterfly" title=""><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://www.jsdelivr.com/" style="margin-inline:5px" data-title="本站使用JsDelivr为静态资源提供CDN加速" title=""><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Gtihub托管" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站除特殊说明外采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>')}for(var elist="null".split(","),cpage=location.pathname,epage="all",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_footer_beautify_injector_config()</script><script async src="/js/runtime.js"></script><script async>window.onload=function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src="/sw-register.js?v="+Date.now(),t.parentNode.insertBefore(e,t)}</script></body></html>